(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1220:function(module,exports,__webpack_require__){"use strict";__webpack_require__(10),__webpack_require__(78),__webpack_require__(64),__webpack_require__(52),__webpack_require__(66),__webpack_require__(1221),__webpack_require__(1222),__webpack_require__(19),__webpack_require__(65);var _clientApi=__webpack_require__(77),_clientLogger=__webpack_require__(53),_configFilename=__webpack_require__(1223);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1223:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var _storybook_addon_docs_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(639),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_documentation_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640);Object(_storybook_addon_docs_angular__WEBPACK_IMPORTED_MODULE_0__.setCompodocJson)(_documentation_json__WEBPACK_IMPORTED_MODULE_2__);var parameters={actions:{argTypesRegex:"^on[A-Z].*"},docs:{theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.themes.dark},options:{storySort:{order:["Getting Started","Zoom To Fit","Zoom To Node","Auto Arrange","Drag And Drop","Dynamic Ports","Performance","Actions","Themes","Changelog"]}}}},1225:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(62).configure)([__webpack_require__(1226),__webpack_require__(1230)],module,!1)}).call(this,__webpack_require__(160)(module))},1226:function(module,exports,__webpack_require__){var map={"./changelog.stories.mdx":1315,"./getting-started.stories.mdx":1227};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1226},1227:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(23),__webpack_require__(12),__webpack_require__(19),__webpack_require__(1);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(142),_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(641),_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_6__),_assets_colors_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(642),_assets_colors_svg__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_assets_colors_svg__WEBPACK_IMPORTED_MODULE_7__),_assets_comments_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(643),_assets_comments_svg__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_assets_comments_svg__WEBPACK_IMPORTED_MODULE_8__),_assets_flow_svg__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__(1228),__webpack_require__(644)),_assets_flow_svg__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_assets_flow_svg__WEBPACK_IMPORTED_MODULE_10__),_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(645),_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_11__),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(1229),__webpack_require__(646)),_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_13__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.Meta,{title:"Getting Started",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("style",null,"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid white;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n\n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n\n\n"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("h1",{id:"welcome-to-rxzu"},"Welcome to RxZu"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"RxZu is a diagrams engine system, built on top of RxJS, which takes the idea of graphic visualization to the next level in terms of performance, rendering optimization, and customizability."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"RxZu encourages creativity. It allows you to create any node, link, label, or even a custom entity and provide powerful tools with a moderate learning curve, suitable for both experienced and inexperienced developers alike."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Browse example stories now by navigating to them in the sidebar.\nView their code in the ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"./stories")," directory to learn how they work."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{class:"subheading"},"Installation"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"Install from the NPM repository using yarn or npm:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-shell"}),"yarn add @rxzu/angular\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-shell"}),"npm install @rxzu/angular\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,"On production environemnt add the following:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("inlineCode",{parentName:"p"},"main.ts")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("code",_extends({parentName:"pre"},{className:"language-typescript"}),"import { enableProdMode } from '@angular/core';\nimport { enableDiagramProdMode } from '@rxzu/angular';\n\n...\nif(environemnt.production) {\n    enableDiagramProdMode();\n    enableProdMode();\n}\n...\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{class:"subheading"},"Configure"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{class:"link-list"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://github.com/Vonage/rxzu/tree/main/packages/storybook/stories",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_plugin_svg__WEBPACK_IMPORTED_MODULE_11___default.a,alt:"plugin"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"Presets for popular entities"),"Easy setup for default entities")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://github.com/Vonage/rxzu/tree/main/packages/storybook/stories",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_stackalt_svg__WEBPACK_IMPORTED_MODULE_13___default.a,alt:"Build"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"Build customized entities"),"How to customize and create your own entities")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://github.com/Vonage/rxzu/blob/main/packages/storybook/stories/demo-diagram.component.scss",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_colors_svg__WEBPACK_IMPORTED_MODULE_7___default.a,alt:"colors"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"Styling"),"How to configure CSS for the diagram")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://github.com/Vonage/rxzu/tree/main/packages/core/src/lib/plugins",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_flow_svg__WEBPACK_IMPORTED_MODULE_10___default.a,alt:"flow"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"Plugins"),"Plugins and libraries for additional functionality"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{class:"subheading"},"Learn"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("div",{class:"link-list"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://github.com/Vonage/rxzu",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_code_brackets_svg__WEBPACK_IMPORTED_MODULE_6___default.a,alt:"code"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"GitHub project"),"View the source and add issues")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("a",{class:"link-item",href:"https://gitter.im/vonage-rxzu/community",target:"_blank"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("img",{src:_assets_comments_svg__WEBPACK_IMPORTED_MODULE_8___default.a,alt:"comments"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("span",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)("strong",null,"Gitter chat"),"Chat with maintainers and the community"))))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Getting Started",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_5__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_4__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1228:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/direction.b770f9af.svg"},1229:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/repo.6d496322.svg"},1230:function(module,exports,__webpack_require__){var map={"./actions/actions.stories.ts":1316,"./auto-arrange/auto-arrange.stories.ts":1317,"./drag-and-drop/drag-and-drop.stories.ts":1318,"./dynamic-ports/dynamic-ports.stories.ts":1319,"./performance/performance.stories.ts":1320,"./themes/gh-workflow/gh-workflow.stories.ts":1312,"./themes/vonage-studio/vonage-studio.stories.ts":1313,"./zoom-to-fit/zoom-to-fit.stories.ts":1321,"./zoom-to-node/zoom-to-node.stories.ts":1322};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1230},1312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GithubWorkflow",(function(){return GithubWorkflow}));var gh_workflow_component_a,client=__webpack_require__(62),common=__webpack_require__(14),tslib_es6=__webpack_require__(2),core=__webpack_require__(0),src=__webpack_require__(4);class gh_workflow_port_model_GHPortModel extends src.k{constructor(options){var _a;super(Object.assign(Object.assign({},options),{namespace:"gh",linkNamespace:"gh"})),this.direction$=Object(src.o)(null!==(_a=options.direction)&&void 0!==_a?_a:"in"),this.setCanCreateLinks("out"===this.direction$.value)}canLinkToPort(port){return port.getParent()!==this.getParent()}}class gh_workflow_node_model_GHNodeModel extends src.j{constructor(options){super(Object.assign(Object.assign({},options),{namespace:"gh"}))}}let gh_workflow_component_GHWorkfflowExampleStoryComponent=class GHWorkfflowExampleStoryComponent{constructor(){this.diagramModel=new src.e}ngOnInit(){const node1=new gh_workflow_node_model_GHNodeModel({coords:{x:500,y:300},extras:[{id:"4",displayName:"START",status:"success",executionTime:2622}]}),outPort=new gh_workflow_port_model_GHPortModel({id:"outport1",direction:"out"});node1.addPort(outPort);const node2=new gh_workflow_node_model_GHNodeModel({coords:{x:1e3,y:0},extras:[{id:"3",displayName:"Security Pipeline",status:"fail",executionTime:231}]}),inPort=new gh_workflow_port_model_GHPortModel({id:"inport2"});node2.addPort(inPort);for(let index=0;index<2;index++){const nodeLoop=new gh_workflow_node_model_GHNodeModel({coords:{x:1e3,y:300+300*index},extras:[{id:"2",displayName:"Extra success "+index,status:"success",executionTime:2622},{id:"1",displayName:"Extra fail "+index,status:"fail",executionTime:2622}]}),portLoop=new gh_workflow_port_model_GHPortModel({id:"inport"+(index+3)});nodeLoop.addPort(portLoop),this.diagramModel.addNode(nodeLoop)}const link=outPort.link(inPort),models=[node1,node2];link&&(link.setLocked(),models.push(link)),this.diagramModel.addAll(...models)}};var gh_workflow_label_component_a,_b;Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(gh_workflow_component_a=void 0!==src.m&&src.m)?gh_workflow_component_a:Object)],gh_workflow_component_GHWorkfflowExampleStoryComponent.prototype,"diagram",void 0),gh_workflow_component_GHWorkfflowExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'<rxzu-diagram\n    class="demo-diagram"\n    [model]="diagramModel"\n  ></rxzu-diagram>',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",[])],gh_workflow_component_GHWorkfflowExampleStoryComponent);let GHWorkflowLabelComponent=class GHWorkflowLabelComponent{constructor(model,cdRef){this.model=model,this.cdRef=cdRef}ngOnInit(){this.model.selectCoords().subscribe(()=>{this.cdRef.detectChanges()}),this.model.setPainted(!0)}};var gh_workflow_port_component_a,gh_workflow_port_component_b,_c;GHWorkflowLabelComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-gh-workflow-label",template:(__webpack_require__(303).default||__webpack_require__(303)).length?__webpack_require__(303).default||__webpack_require__(303):"",styles:[(__webpack_require__(304).default||__webpack_require__(304)).length?__webpack_require__(304).default||__webpack_require__(304):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(gh_workflow_label_component_a=void 0!==src.g&&src.g)?gh_workflow_label_component_a:Object,"function"==typeof(_b=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_b:Object])],GHWorkflowLabelComponent);let gh_workflow_port_component_GHWorkflowPortComponent=class GHWorkflowPortComponent extends src.d{constructor(model,elRef,renderer){super(model),this.model=model,this.elRef=elRef,this.renderer=renderer}ngOnInit(){super.ngOnInit(),this.updatePortRootStyle()}updatePortRootStyle(){const rootEl=this.elRef.nativeElement;this.renderer.addClass(rootEl,this.model.direction$.value),this.model.getParent().selectHovered().subscribe(hovered=>{this.model.getLinksArray().forEach(link=>{var _a,_b;link.setHovered(hovered),null===(_a=link.getTargetPort())||void 0===_a||_a.setHovered(hovered),null===(_b=link.getSourcePort())||void 0===_b||_b.setHovered(hovered)})})}};var gh_workflow_link_component_a,gh_workflow_link_component_b,gh_workflow_link_component_c;gh_workflow_port_component_GHWorkflowPortComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-gh-workflow-port",template:(__webpack_require__(305).default||__webpack_require__(305)).length?__webpack_require__(305).default||__webpack_require__(305):"",styles:[(__webpack_require__(306).default||__webpack_require__(306)).length?__webpack_require__(306).default||__webpack_require__(306):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(gh_workflow_port_component_a=void 0!==gh_workflow_port_model_GHPortModel&&gh_workflow_port_model_GHPortModel)?gh_workflow_port_component_a:Object,"function"==typeof(gh_workflow_port_component_b=void 0!==core.ElementRef&&core.ElementRef)?gh_workflow_port_component_b:Object,"function"==typeof(_c=void 0!==core.Renderer2&&core.Renderer2)?_c:Object])],gh_workflow_port_component_GHWorkflowPortComponent);let gh_workflow_link_component_GHWorkflowLinkComponent=class GHWorkflowLinkComponent extends src.b{constructor(model,cdRef){super(model,cdRef),this.model=model}};var gh_workflow_node_component_a,gh_workflow_node_component_b,gh_workflow_node_component_c,_d,_e;Object(tslib_es6.a)([Object(core.ViewChild)("labelLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(gh_workflow_link_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?gh_workflow_link_component_a:Object)],gh_workflow_link_component_GHWorkflowLinkComponent.prototype,"labelLayer",void 0),gh_workflow_link_component_GHWorkflowLinkComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-gh-workflow-link",template:(__webpack_require__(307).default||__webpack_require__(307)).length?__webpack_require__(307).default||__webpack_require__(307):"",styles:[(__webpack_require__(308).default||__webpack_require__(308)).length?__webpack_require__(308).default||__webpack_require__(308):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(gh_workflow_link_component_b=void 0!==src.h&&src.h)?gh_workflow_link_component_b:Object,"function"==typeof(gh_workflow_link_component_c=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?gh_workflow_link_component_c:Object])],gh_workflow_link_component_GHWorkflowLinkComponent);let gh_workflow_node_component_GHWorkflowNodeComponent=class GHWorkflowNodeComponent extends src.c{constructor(model,engine,diagram,iterableDiffers){super(model,engine,diagram,iterableDiffers),this.model=model}};Object(tslib_es6.a)([Object(core.ViewChild)("portsLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(gh_workflow_node_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?gh_workflow_node_component_a:Object)],gh_workflow_node_component_GHWorkflowNodeComponent.prototype,"portsLayer",void 0),gh_workflow_node_component_GHWorkflowNodeComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-gh-workflow-node",template:(__webpack_require__(309).default||__webpack_require__(309)).length?__webpack_require__(309).default||__webpack_require__(309):"",styles:[(__webpack_require__(310).default||__webpack_require__(310)).length?__webpack_require__(310).default||__webpack_require__(310):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(gh_workflow_node_component_b=void 0!==gh_workflow_node_model_GHNodeModel&&gh_workflow_node_model_GHNodeModel)?gh_workflow_node_component_b:Object,"function"==typeof(gh_workflow_node_component_c=void 0!==src.f&&src.f)?gh_workflow_node_component_c:Object,"function"==typeof(_d=void 0!==src.m&&src.m)?_d:Object,"function"==typeof(_e=void 0!==core.IterableDiffers&&core.IterableDiffers)?_e:Object])],gh_workflow_node_component_GHWorkflowNodeComponent);const GHWorkflowTheme=[{type:"node",component:gh_workflow_node_component_GHWorkflowNodeComponent,namespace:"gh"},{type:"port",component:gh_workflow_port_component_GHWorkflowPortComponent,namespace:"gh"},{type:"link",component:gh_workflow_link_component_GHWorkflowLinkComponent,namespace:"gh"},{type:"label",component:GHWorkflowLabelComponent,namespace:"gh"}],COMPONENTS=[gh_workflow_node_component_GHWorkflowNodeComponent,gh_workflow_port_component_GHWorkflowPortComponent,gh_workflow_link_component_GHWorkflowLinkComponent,GHWorkflowLabelComponent];let RxZuGHWorkflowTheme=class RxZuGHWorkflowTheme{};RxZuGHWorkflowTheme=Object(tslib_es6.a)([Object(core.NgModule)({declarations:[...COMPONENTS],imports:[common.a,src.n.withComponents(GHWorkflowTheme)],entryComponents:[...COMPONENTS],exports:[...COMPONENTS,src.n]})],RxZuGHWorkflowTheme);__webpack_exports__.default={title:"Themes/Github Workflow",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[gh_workflow_component_GHWorkfflowExampleStoryComponent],imports:[common.a,RxZuGHWorkflowTheme]})]};const GithubWorkflow=(args=>({component:gh_workflow_component_GHWorkfflowExampleStoryComponent,props:args})).bind({});GithubWorkflow.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: GHWorkfflowExampleStoryComponent,\n  props: args,\n})"}},GithubWorkflow.parameters)},1313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VonageStudio",(function(){return VonageStudio}));var NodeStatus,vonage_studio_component_a,client=__webpack_require__(62),common=__webpack_require__(14),tslib_es6=__webpack_require__(2),core=__webpack_require__(0),src=__webpack_require__(4);class vonage_studio_port_model_VStudioPortModel extends src.k{constructor(options){var _a;super(Object.assign(Object.assign({},options),{namespace:"vstudio",linkNamespace:"vstudio"})),this.direction$=Object(src.o)(null!==(_a=options.direction)&&void 0!==_a?_a:"in"),this.setCanCreateLinks("out"===this.direction$.value)}canLinkToPort(port){return port.getParent()!==this.getParent()}}!function(NodeStatus){NodeStatus.DEFAULT="default",NodeStatus.WARNING="warning",NodeStatus.ERROR="error"}(NodeStatus||(NodeStatus={}));class vonage_studio_node_model_VStudioNodeModel extends src.j{constructor(options){super(Object.assign(Object.assign({},options),{namespace:"vstudio"})),this.status$=Object(src.o)(NodeStatus.DEFAULT)}selectStatus(){return this.status$.select()}setStatus(status){this.status$.set(status)}}let vonage_studio_component_VStudioExampleStoryComponent=class VStudioExampleStoryComponent{constructor(){this.diagramModel=new src.e}ngOnInit(){const node1=new vonage_studio_node_model_VStudioNodeModel({coords:{x:500,y:300},extras:{title:"Start",icon:"S"}}),outPort=new vonage_studio_port_model_VStudioPortModel({id:"outport1",direction:"out"});node1.addPort(outPort);const node2=new vonage_studio_node_model_VStudioNodeModel({coords:{x:1e3,y:0},extras:{color:"rgba(83, 202, 106, 0.7)",title:"Collect Input",icon:"C",inputs:[{content:"TOPIC: Hello, how can I help you?"}]}}),inPort=new vonage_studio_port_model_VStudioPortModel({id:"inport2"});node2.addPort(inPort);for(let index=0;index<2;index++){const nodeLoop=new vonage_studio_node_model_VStudioNodeModel({coords:{x:1e3,y:300+300*index},extras:{color:"rgba(101, 186, 255, 0.7)",title:"Collect Input",icon:"C",inputs:[{content:"Opening hours"},{content:"Opening hours"}]}}),portLoop=new vonage_studio_port_model_VStudioPortModel({id:"inport"+(index+3)});nodeLoop.addPort(portLoop),this.diagramModel.addNode(nodeLoop)}const link=outPort.link(inPort),models=[node1,node2];link&&(link.setLocked(),models.push(link)),this.diagramModel.addAll(...models)}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}};var vonage_studio_label_component_a,_b;Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(vonage_studio_component_a=void 0!==src.m&&src.m)?vonage_studio_component_a:Object)],vonage_studio_component_VStudioExampleStoryComponent.prototype,"diagram",void 0),vonage_studio_component_VStudioExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'<rxzu-diagram\n    class="vonage-studio-diagram"\n    [model]="diagramModel"\n  ></rxzu-diagram>',styles:[(__webpack_require__(311).default||__webpack_require__(311)).length?__webpack_require__(311).default||__webpack_require__(311):""]}),Object(tslib_es6.b)("design:paramtypes",[])],vonage_studio_component_VStudioExampleStoryComponent);let VStudioLabelComponent=class VStudioLabelComponent{constructor(model,cdRef){this.model=model,this.cdRef=cdRef}ngOnInit(){this.model.selectCoords().subscribe(()=>{this.cdRef.detectChanges()}),this.model.getParent().selectHovered().subscribe(()=>{this.onHover()}),this.model.setPainted(!0)}onHover(){this.cdRef.detectChanges()}deleteLink(){this.model.getParent().destroy()}};var vonage_studio_port_component_a,vonage_studio_port_component_b,_c;VStudioLabelComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-vonage-studio-label",template:(__webpack_require__(312).default||__webpack_require__(312)).length?__webpack_require__(312).default||__webpack_require__(312):"",styles:[(__webpack_require__(313).default||__webpack_require__(313)).length?__webpack_require__(313).default||__webpack_require__(313):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(vonage_studio_label_component_a=void 0!==src.g&&src.g)?vonage_studio_label_component_a:Object,"function"==typeof(_b=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_b:Object])],VStudioLabelComponent);let vonage_studio_port_component_VStudioPortComponent=class VStudioPortComponent extends src.d{constructor(model,elRef,renderer){super(model),this.model=model,this.elRef=elRef,this.renderer=renderer}ngOnInit(){super.ngOnInit(),this.updatePortRootStyle()}updatePortRootStyle(){const rootEl=this.elRef.nativeElement;this.renderer.addClass(rootEl,this.model.direction$.value)}};var vonage_studio_link_component_a,vonage_studio_link_component_b,vonage_studio_link_component_c;vonage_studio_port_component_VStudioPortComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-vonage-studio-port",template:(__webpack_require__(314).default||__webpack_require__(314)).length?__webpack_require__(314).default||__webpack_require__(314):"",styles:[(__webpack_require__(315).default||__webpack_require__(315)).length?__webpack_require__(315).default||__webpack_require__(315):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(vonage_studio_port_component_a=void 0!==vonage_studio_port_model_VStudioPortModel&&vonage_studio_port_model_VStudioPortModel)?vonage_studio_port_component_a:Object,"function"==typeof(vonage_studio_port_component_b=void 0!==core.ElementRef&&core.ElementRef)?vonage_studio_port_component_b:Object,"function"==typeof(_c=void 0!==core.Renderer2&&core.Renderer2)?_c:Object])],vonage_studio_port_component_VStudioPortComponent);let vonage_studio_link_component_VStudioLinkComponent=class VStudioLinkComponent extends src.b{constructor(model,cdRef){super(model,cdRef),this.model=model,this.model.setLabel(new src.g({namespace:"vstudio"}))}};Object(tslib_es6.a)([Object(core.ViewChild)("labelLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(vonage_studio_link_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?vonage_studio_link_component_a:Object)],vonage_studio_link_component_VStudioLinkComponent.prototype,"labelLayer",void 0),vonage_studio_link_component_VStudioLinkComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-vonage-studio-link",template:(__webpack_require__(316).default||__webpack_require__(316)).length?__webpack_require__(316).default||__webpack_require__(316):"",styles:[(__webpack_require__(317).default||__webpack_require__(317)).length?__webpack_require__(317).default||__webpack_require__(317):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(vonage_studio_link_component_b=void 0!==src.h&&src.h)?vonage_studio_link_component_b:Object,"function"==typeof(vonage_studio_link_component_c=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?vonage_studio_link_component_c:Object])],vonage_studio_link_component_VStudioLinkComponent);var vonage_studio_node_component_a,vonage_studio_node_component_b,vonage_studio_node_component_c,_d,_e,BehaviorSubject=__webpack_require__(321);let vonage_studio_node_component_VStudioNodeComponent=class VStudioNodeComponent extends src.c{constructor(model,engine,diagram,iterableDiffers){super(model,engine,diagram,iterableDiffers),this.model=model,this.nodeGradient="linear-gradient(to right,rgb(242, 242, 242) 0%, rgb(242, 242, 242) 100%)",this.boxShadow$=new BehaviorSubject.a("0px 4px 12px rgba(0, 0, 0, 0.25)"),model.selectExtras().subscribe(extras=>{extras.color&&(this.nodeGradient=this.createNodeGradient(extras.color))}),model.selectSelected().subscribe(selected=>{this.boxShadow$.next(this.createSelectedShadow(selected)),this.updateLinksState(selected)}),model.selectStatus().subscribe(status=>{this.boxShadow$.next(this.createStatusShadow(status)),NodeStatus.ERROR}),this.model.selectPorts().subscribe(ports=>{ports.forEach(port=>{port.selectLinks().subscribe(links=>{this.model.setStatus(this.calculateStatus())})})})}calculateStatus(){let numOfLinks=0;return this.model.getPorts().forEach(port=>{numOfLinks+=port.getLinks().size}),numOfLinks<=0?NodeStatus.WARNING:NodeStatus.DEFAULT}createStatusShadow(status){switch(status){case NodeStatus.WARNING:return"0px 4px 12px rgba(250, 212, 109, 0.7)";case NodeStatus.ERROR:return"0px 4px 12px rgba(254, 150, 150, 0.7)";case NodeStatus.DEFAULT:default:return"0px 4px 12px rgba(0, 0, 0, 0.25)"}}updateLinksState(selected){this.model.getPorts().forEach(port=>{port.getLinks().forEach(link=>{link.setSelected(selected)})})}createSelectedShadow(selected){return selected?"0px 4px 12px rgba(101, 186, 255, 0.7)":this.createStatusShadow(this.calculateStatus())}createNodeGradient(color){return`linear-gradient(to right, ${color} 0%, ${color} 2%, rgb(242, 242, 242) 2%)`}};Object(tslib_es6.a)([Object(core.ViewChild)("portsLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(vonage_studio_node_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?vonage_studio_node_component_a:Object)],vonage_studio_node_component_VStudioNodeComponent.prototype,"portsLayer",void 0),vonage_studio_node_component_VStudioNodeComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-vonage-studio-node",template:(__webpack_require__(318).default||__webpack_require__(318)).length?__webpack_require__(318).default||__webpack_require__(318):"",styles:[(__webpack_require__(319).default||__webpack_require__(319)).length?__webpack_require__(319).default||__webpack_require__(319):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(src.i)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(vonage_studio_node_component_b=void 0!==vonage_studio_node_model_VStudioNodeModel&&vonage_studio_node_model_VStudioNodeModel)?vonage_studio_node_component_b:Object,"function"==typeof(vonage_studio_node_component_c=void 0!==src.f&&src.f)?vonage_studio_node_component_c:Object,"function"==typeof(_d=void 0!==src.m&&src.m)?_d:Object,"function"==typeof(_e=void 0!==core.IterableDiffers&&core.IterableDiffers)?_e:Object])],vonage_studio_node_component_VStudioNodeComponent);const GHWorkflowTheme=[{type:"node",component:vonage_studio_node_component_VStudioNodeComponent,namespace:"vstudio"},{type:"port",component:vonage_studio_port_component_VStudioPortComponent,namespace:"vstudio"},{type:"link",component:vonage_studio_link_component_VStudioLinkComponent,namespace:"vstudio"},{type:"label",component:VStudioLabelComponent,namespace:"vstudio"}],COMPONENTS=[vonage_studio_node_component_VStudioNodeComponent,vonage_studio_port_component_VStudioPortComponent,vonage_studio_link_component_VStudioLinkComponent,VStudioLabelComponent];let RxZuVStudioTheme=class RxZuVStudioTheme{};RxZuVStudioTheme=Object(tslib_es6.a)([Object(core.NgModule)({declarations:[...COMPONENTS],imports:[common.a,src.n.withComponents(GHWorkflowTheme)],entryComponents:[...COMPONENTS],exports:[...COMPONENTS,src.n]})],RxZuVStudioTheme);__webpack_exports__.default={title:"Themes/Vonage Studio",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[vonage_studio_component_VStudioExampleStoryComponent],imports:[common.a,RxZuVStudioTheme]})]};const VonageStudio=(args=>({component:vonage_studio_component_VStudioExampleStoryComponent,props:args})).bind({});VonageStudio.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: VStudioExampleStoryComponent,\n  props: args,\n})"}},VonageStudio.parameters)},1315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(23),__webpack_require__(12),__webpack_require__(19),__webpack_require__(1);var esm=__webpack_require__(16),blocks=__webpack_require__(142);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(esm.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.mdx)(blocks.Meta,{title:"Changelog",mdxType:"Meta"}),Object(esm.mdx)(blocks.Description,{mdxType:"Description"},"# [3.0.0](https://github.com/Vonage/rxzu/compare/v2.2.3...v3.0.0) (2021-03-29)\n\n\n### Bug Fixes\n\n* generate links & dynamic ports ([9343733](https://github.com/Vonage/rxzu/commit/9343733e38c9bc83af5fb4474e33b22b457e4a4c))\n* **state:** removed un neccesery emits ([f9be243](https://github.com/Vonage/rxzu/commit/f9be2437253dfef0369bab52528d0e1b1bba6561))\n* factories reimplementation ([24eb729](https://github.com/Vonage/rxzu/commit/24eb729496e34d87b5929f1fbe7eec89cd9f74f0))\n\n\n### Features\n\n* **auto dimensions:** resize observer to resolve node and port dimensions automatically ([d97e372](https://github.com/Vonage/rxzu/commit/d97e372e560b00a3406e840d530443a849b90180))\n* **core:** change factory implementation ([5ad231d](https://github.com/Vonage/rxzu/commit/5ad231df2f1303f6ae238089ec65f2c2122b942c))\n* **themes:** gh theme finished ([0f45722](https://github.com/Vonage/rxzu/commit/0f45722e45ee5dfce3ffa9fe044df056e649723f))\n* **themes:** styling ([1807d0f](https://github.com/Vonage/rxzu/commit/1807d0fcb20a1d5c65ef7a031787423fe80efd57))\n* **v3:** initial work ([09c534d](https://github.com/Vonage/rxzu/commit/09c534d88766414a20b2038ccde8b4c012210b91))\n\n\n### BREAKING CHANGES\n\n* **core:** rename diagramEngineCore to diagramEngine\ndelete FactoriesManager\nadd entityType to base.entity\ndelete default angular factories\nrename angular's DiagramEngine to EngineService\n\n## [2.2.3](https://github.com/Vonage/rxzu/compare/v2.2.2...v2.2.3) (2021-03-08)\n\n\n### Bug Fixes\n\n* **keyboard:** fire delete action only if pressed the delete key ([311989b](https://github.com/Vonage/rxzu/commit/311989bee7751bf29dea43d5a4a2718b51c2cf1d))\n\n## [2.2.2](https://github.com/Vonage/rxzu/compare/v2.2.1...v2.2.2) (2021-03-04)\n\n\n### Bug Fixes\n\n* **events:** remove contenteditable ([5365877](https://github.com/Vonage/rxzu/commit/53658772ea5c84cea53654fba3562b800fb1a740))\n* **events:** remove contenteditable ([c94d1f9](https://github.com/Vonage/rxzu/commit/c94d1f9e2246591cc2f2f2a54e60559dd9a42903))\n\n## [2.2.1](https://github.com/Vonage/rxzu/compare/v2.2.0...v2.2.1) (2021-03-04)\n\n\n### Bug Fixes\n\n* **action:** add new actions to actions index ([29d51f0](https://github.com/Vonage/rxzu/commit/29d51f09ef4662f7499ddb778fcd0060488abe01))\n\n# [2.2.0](https://github.com/Vonage/rxzu/compare/v2.1.4...v2.2.0) (2021-03-04)\n\n\n### Features\n\n* **general:** add keyboard manager ([382d0d4](https://github.com/Vonage/rxzu/commit/382d0d43bfaacafa39c35d0211c41b15f3f56d6c))\n* **keyboard:** add copy paste events ([400c429](https://github.com/Vonage/rxzu/commit/400c4290d12b5f1b19a14b36fd831edcb6d054cc))\n* **keyboard manager:** fix cr comments ([c54ed9b](https://github.com/Vonage/rxzu/commit/c54ed9bfc94ab434045ad7add87d427441a16a94))\n* **keyboard manager:** fix cr comments ([7fb1d24](https://github.com/Vonage/rxzu/commit/7fb1d246f581dae745ff788452b8f245c6b36756))\n* **keyboard manager:** fix cr comments ([ea18c52](https://github.com/Vonage/rxzu/commit/ea18c524c16b3523d50715ed1cf1ff3b2247ffb8))\n* **keyboard manager:** fix cr comments ([19d4973](https://github.com/Vonage/rxzu/commit/19d49737334b8d4dcce2b562f32f05ff322206df))\n* **keyboard manager:** fix cr comments ([92fa193](https://github.com/Vonage/rxzu/commit/92fa19391c27989d75abf4c88554bf4268efd7a0))\n* **keyboard manager:** fix cr comments ([0bc5259](https://github.com/Vonage/rxzu/commit/0bc5259575ecc47e7932a37fe8e4639b01691105))\n* **keyboard manager:** fix cr comments ([0de5fa0](https://github.com/Vonage/rxzu/commit/0de5fa0a85d56277ab3b6a6c3f0f1ed3be6b66c6))\n* **keyboard manager:** fix cr comments ([94d1455](https://github.com/Vonage/rxzu/commit/94d14554015b524ee5c7698301b9d33534c5b5f6))\n* **keyboard manager:** fix cr in progress ([dab3950](https://github.com/Vonage/rxzu/commit/dab39501c456b10c3be177f21932898c093b635e))\n* **keyboard manager:** fix cr in progress ([0d90e76](https://github.com/Vonage/rxzu/commit/0d90e76fecaf72b43d8ac6b215588b1f13e3b8c6))\n* **keyboard manager:** fix cr in progress ([1a862f7](https://github.com/Vonage/rxzu/commit/1a862f79cf88ec5254aadaf63df4c0d0be1a22cd))\n\n## [2.1.4](https://github.com/Vonage/rxzu/compare/v2.1.3...v2.1.4) (2021-03-01)\n\n\n### Bug Fixes\n\n* **mouse manager:** fix mouse up triggered twice intead of one every time item is moved ([f453939](https://github.com/Vonage/rxzu/commit/f453939ffe20e91d32be4030e62e344f2ab4e1df))\n\n## [2.1.3](https://github.com/Vonage/rxzu/compare/v2.1.2...v2.1.3) (2021-02-21)\n\n\n### Bug Fixes\n\n* **select action:** fix checking if element is contains in box,now also check the bottom right point ([ca0e178](https://github.com/Vonage/rxzu/commit/ca0e178edb055e1670ea74fd2491dccb88c25df5))\n\n## [2.1.2](https://github.com/Vonage/rxzu/compare/v2.1.1...v2.1.2) (2021-02-18)\n\n\n### Bug Fixes\n\n* **auto arrange:** fix DagrePlugin set coordinates ([c47e929](https://github.com/Vonage/rxzu/commit/c47e929799f9c6bf421f53841767d91683b05040))\n\n## [2.1.1](https://github.com/Vonage/rxzu/compare/v2.1.0...v2.1.1) (2021-02-10)\n\n\n### Bug Fixes\n\n* **node layers rect:** calc right and top nodes including the width and height ([75423c8](https://github.com/Vonage/rxzu/commit/75423c844e0cd2e8551118b974fa53bb714aae13))\n* **node layers rect:** calc right and top nodes including the with and height ([c74eb12](https://github.com/Vonage/rxzu/commit/c74eb12d35116cf2163b2c669d1ad9385d30b345))\n* **node layers rect:** calc right and top nodes including the with and height ([8926af1](https://github.com/Vonage/rxzu/commit/8926af12e560f4bd40fd886f82aef4c4bf0205dc))\n* **node layers rect:** calc right and top nodes including the with and height ([37a6860](https://github.com/Vonage/rxzu/commit/37a6860bb42b693664ea7a37b541c71adbd89e85))\n\n# [2.1.0](https://github.com/Vonage/rxzu/compare/v2.0.2...v2.1.0) (2021-02-09)\n\n\n### Features\n\n* **genral:** add the ability to zoom to fit and zoom to nodes ([94dea1b](https://github.com/Vonage/rxzu/commit/94dea1b84c4b10723f6865a651699e2cdb7bacb2))\n* **genral:** add the ability to zoom to fit and zoom to nodes ([8580874](https://github.com/Vonage/rxzu/commit/8580874687e2a1f74e6a02575d6aa434ac03c009))\n* **genral:** fix comments ([0d9526f](https://github.com/Vonage/rxzu/commit/0d9526f98eb914316a1d7d1e3ae8ce4de3c13832))\n* **genral:** fix comments ([bf70291](https://github.com/Vonage/rxzu/commit/bf70291236d855034a1c87490dfdbfa46267cdcb))\n* **genral:** fix comments ([cfac5f3](https://github.com/Vonage/rxzu/commit/cfac5f3d209b843565914384e446297ce19a9847))\n\n## [2.0.2](https://github.com/Vonage/rxzu/compare/v2.0.1...v2.0.2) (2021-01-31)\n\n\n### Bug Fixes\n\n* **ctx menu:** chrome bug when clicking right mouse button, mouse up isn't fired ([9b1b383](https://github.com/Vonage/rxzu/commit/9b1b383347b5a8ea67d0cb3af92347978bfb8ede))\n\n## [2.0.1](https://github.com/Vonage/rxzu/compare/v2.0.0...v2.0.1) (2021-01-31)\n\n\n### Bug Fixes\n\n* **multiple select:** if point is attached to port, don't select ([f008d13](https://github.com/Vonage/rxzu/commit/f008d13992877a5168a40e54f2d7abda7596bb68))\n\n# [2.0.0](https://github.com/Vonage/rxzu/compare/v1.5.3...v2.0.0) (2021-01-30)\n\n\n### Bug Fixes\n\n* **angular:** enable strict mode ([6c30470](https://github.com/Vonage/rxzu/commit/6c304708118f40043fc105f51f9aec273b3340b9))\n\n\n### Features\n\n* **strict typescript:** strict mode enabled on all libraries and storybook ([5e967c8](https://github.com/Vonage/rxzu/commit/5e967c8bdb32d27458fe31355b1b220a702d4ac6))\n\n\n### BREAKING CHANGES\n\n* **strict typescript:** angular components no longer extend base models | factories structure changed\n\n## [1.5.3](https://github.com/Vonage/rxzu/compare/v1.5.2...v1.5.3) (2021-01-10)\n\n\n### Bug Fixes\n\n* **default node:** removed default animations on node appearance ([0aa6502](https://github.com/Vonage/rxzu/commit/0aa6502e0b236e68601f3bf871601e1bec1c0d05))\n\n## [1.5.2](https://github.com/Vonage/rxzu/compare/v1.5.1...v1.5.2) (2021-01-09)\n\n\n### Bug Fixes\n\n* **state:** isArray native ([c0c7f7e](https://github.com/Vonage/rxzu/commit/c0c7f7e2a09a1e0d467889acd60c7b42f8657964))\n\n## [1.5.1](https://github.com/Vonage/rxzu/compare/v1.5.0...v1.5.1) (2021-01-09)\n\n\n### Bug Fixes\n\n* **angular links:** hover change detection manually triggered ([f9aac7c](https://github.com/Vonage/rxzu/commit/f9aac7c8eb3d25a88e54d65a13c002a6fd456837))\n* **dynamic:** ports updates will now consider offsets and zoom level ([9a35868](https://github.com/Vonage/rxzu/commit/9a35868f9fe831c11ab5c851ddb51377eb244281))\n* **imports:** removed unused imports, build only whats neccessery ([3fb1e89](https://github.com/Vonage/rxzu/commit/3fb1e89ed31ce88c4163959919558994e26c4668))\n\n# [1.5.0](https://github.com/Vonage/rxzu/compare/v1.4.0...v1.5.0) (2021-01-08)\n\n\n### Features\n\n* **engine:** node and canvas selectors ([a41f760](https://github.com/Vonage/rxzu/commit/a41f76072e869dfef87ec7eea4c9da2738cf82c0))\n\n# [1.4.0](https://github.com/Vonage/rxzu/compare/v1.3.0...v1.4.0) (2021-01-08)\n\n\n### Features\n\n* **link:** points selector added ([ec48ab1](https://github.com/Vonage/rxzu/commit/ec48ab11003753b24fdc563d8895ee10137e0990))\n\n# [1.3.0](https://github.com/Vonage/rxzu/compare/v1.2.5...v1.3.0) (2021-01-06)\n\n\n### Features\n\n* **links and ports:** dynamically updating coords on changes ([1b032f2](https://github.com/Vonage/rxzu/commit/1b032f264551547a79854f86eb4b14cc16e0686c))\n\n## [1.2.5](https://github.com/Vonage/rxzu/compare/v1.2.4...v1.2.5) (2021-01-05)\n\n\n### Performance Improvements\n\n* **rxjs:** updated version ([65a8102](https://github.com/Vonage/rxzu/commit/65a81025a7b3cbb61c65d5430a977932924ebe36))\n\n## [1.2.4](https://github.com/Vonage/rxzu/compare/v1.2.3...v1.2.4) (2021-01-04)\n\n\n### Bug Fixes\n\n* **labels:** will be selected and not painted once ([990d79f](https://github.com/Vonage/rxzu/commit/990d79f7138540e96c2368b585575dba1327bfd6))\n\n## [1.2.3](https://github.com/Vonage/rxzu/compare/v1.2.2...v1.2.3) (2021-01-04)\n\n\n### Bug Fixes\n\n* **inverse zoom:** fixed assignment ([e181ee3](https://github.com/Vonage/rxzu/commit/e181ee3b2a8c3a7dbd1fbed174aaf37b49391002))\n\n## [1.2.2](https://github.com/Vonage/rxzu/compare/v1.2.1...v1.2.2) (2021-01-03)\n\n\n### Bug Fixes\n\n* **link model:** path and points moved to model to fix imports issue ([1006135](https://github.com/Vonage/rxzu/commit/10061354ab39a878d2219912c0281dcc424f6901))\n\n## [1.2.1](https://github.com/Vonage/rxzu/compare/v1.2.0...v1.2.1) (2021-01-03)\n\n\n### Bug Fixes\n\n* **events:** added event state to actions observer ([8af62bd](https://github.com/Vonage/rxzu/commit/8af62bd517ba61d42c6356fc394132565dac2b0a))\n\n# [1.2.0](https://github.com/Vonage/rxzu/compare/v1.1.1...v1.2.0) (2021-01-03)\n\n\n### Features\n\n* **metadata:** updated packages and versions ([0af7376](https://github.com/Vonage/rxzu/commit/0af73768cbd28e692da4f3606e47e6b4118f7575))\n\n## [1.1.1](https://github.com/Vonage/rxzu/compare/v1.1.0...v1.1.1) (2021-01-02)\n\n\n### Bug Fixes\n\n* **publish:** packges public access ([5fa989b](https://github.com/Vonage/rxzu/commit/5fa989bde55fb04c5246838820fae4f854820f76))\n\n# [1.1.0](https://github.com/Vonage/rxzu/compare/v1.0.0...v1.1.0) (2021-01-02)\n\n\n### Features\n\n* **docs:** readme on both packages ([494d2ce](https://github.com/Vonage/rxzu/commit/494d2cedf40f7babf477cca43abc068063e69447))\n"))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Changelog",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.mdx)(blocks.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.mdx)(MDXContent,null))}});__webpack_exports__.default=componentMeta},1316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Actions",(function(){return Actions}));var _a,_b,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let actions_component_ActionsExampleStoryComponent=class ActionsExampleStoryComponent{constructor(){this.events=new core.EventEmitter,this.diagramModel=new src.e}ngOnInit(){const node1=new src.j({coords:{x:500,y:300}}),outPort=new src.k({id:"outport1"});node1.addPort(outPort);const node2=new src.j({coords:{x:1e3,y:0}}),inPort=new src.k({id:"inport2"});node2.addPort(inPort);for(let index=0;index<2;index++){const nodeLoop=new src.j({coords:{x:1e3,y:300+300*index}}),portLoop=new src.k({id:"inport"+(index+3)});nodeLoop.addPort(portLoop),this.diagramModel.addNode(nodeLoop)}const link=outPort.link(inPort),models=[node1,node2];link&&(link.setLocked(),models.push(link)),this.diagramModel.addAll(...models)}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit(),this.subscribeToDiagramEvents()}subscribeToDiagramEvents(){var _a;null===(_a=this.diagram)||void 0===_a||_a.diagramEngine.getActionsManager().observeActions().subscribe(e=>{null!=e&&this.events.emit(e)})}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],actions_component_ActionsExampleStoryComponent.prototype,"diagram",void 0),Object(tslib_es6.a)([Object(core.Output)(),Object(tslib_es6.b)("design:type","function"==typeof(_b=void 0!==core.EventEmitter&&core.EventEmitter)?_b:Object)],actions_component_ActionsExampleStoryComponent.prototype,"events",void 0),actions_component_ActionsExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'<rxzu-diagram\n    class="demo-diagram"\n    [model]="diagramModel"\n  ></rxzu-diagram>',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",[])],actions_component_ActionsExampleStoryComponent);__webpack_exports__.default={title:"Actions",parameters:{docs:{iframeHeight:"400px"}},argTypes:{events:{action:"actions"}},decorators:[Object(client.moduleMetadata)({declarations:[actions_component_ActionsExampleStoryComponent],providers:[],imports:[common.a,src.l]})]};const Actions=(args=>({component:actions_component_ActionsExampleStoryComponent,props:args})).bind({});Actions.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: ActionsExampleStoryComponent,\n  props: args,\n})"}},Actions.parameters)},1317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AutoArrange",(function(){return AutoArrange}));var _a,_b,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let auto_arrange_component_AutoArrangeExampleStoryComponent=class AutoArrangeExampleStoryComponent{constructor(dagreEngine){this.dagreEngine=dagreEngine,this.diagramModel=new src.e}ngOnInit(){const node1=new src.j;node1.setCoords({x:500,y:300});const outport1=new src.k;node1.addPort(outport1);const node2=new src.j;node2.setCoords({x:1e3,y:0});const inport=new src.k;node2.addPort(inport);for(let index=0;index<2;index++){const nodeLoop=new src.j;nodeLoop.setCoords({x:10*Math.random()*1e3,y:300+index*(10*Math.random())*300});const inportLoop=new src.k;node2.addPort(inport),nodeLoop.addPort(inportLoop),this.diagramModel.addNode(nodeLoop);const linkLoop=outport1.link(inportLoop);linkLoop&&this.diagramModel.addLink(linkLoop)}this.diagramModel.addAll(node1,node2)}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}autoArrange(){var _a;this.dagreEngine.redistribute(this.diagramModel,{graph:{align:"DL",rankdir:"LR",ranksep:150}}),null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],auto_arrange_component_AutoArrangeExampleStoryComponent.prototype,"diagram",void 0),auto_arrange_component_AutoArrangeExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <button (click)="autoArrange()">Auto Arrange</button>\n    </div>\n    <rxzu-diagram class="demo-diagram" [model]="diagramModel"></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(_b=void 0!==src.a&&src.a)?_b:Object])],auto_arrange_component_AutoArrangeExampleStoryComponent);__webpack_exports__.default={title:"Auto Arrange",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[auto_arrange_component_AutoArrangeExampleStoryComponent],providers:[src.a],imports:[common.a,src.l]})]};const AutoArrange=(args=>({component:auto_arrange_component_AutoArrangeExampleStoryComponent,props:args})).bind({});AutoArrange.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: AutoArrangeExampleStoryComponent,\n  props: args,\n})"}},AutoArrange.parameters)},1318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DragAndDrop",(function(){return DragAndDrop}));var _a,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let drag_and_drop_component_DragAndDropExampleStoryComponent=class DragAndDropExampleStoryComponent{constructor(){this.nodesDefaultDimensions={height:200,width:200},this.nodesLibrary=[{color:"#AFF8D8",name:"default"},{color:"#FFB5E8",name:"default"},{color:"#85E3FF",name:"default"}],this.diagramModel=new src.e}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}createNode(type){const nodeData=this.nodesLibrary.find(nodeLib=>nodeLib.name===type);if(nodeData){const node=new src.j({namespace:nodeData.name});return node.setExtras(nodeData),node}return null}onBlockDrag(e){const type=e.target.getAttribute("data-type");e.dataTransfer&&type&&e.dataTransfer.setData("type",type)}onBlockDropped(e){var _a;if(e.dataTransfer){const nodeType=e.dataTransfer.getData("type"),node=this.createNode(nodeType),canvasManager=null===(_a=this.diagram)||void 0===_a?void 0:_a.diagramEngine.getCanvasManager();if(canvasManager){const droppedPoint=canvasManager.getZoomAwareRelativePoint(e),coords={x:droppedPoint.x-this.nodesDefaultDimensions.width/2,y:droppedPoint.y-this.nodesDefaultDimensions.height/2};node&&(node.setCoords(coords),this.diagramModel.addNode(node))}}}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],drag_and_drop_component_DragAndDropExampleStoryComponent.prototype,"diagram",void 0),drag_and_drop_component_DragAndDropExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <div\n        *ngFor="let node of nodesLibrary"\n        class="node-drag"\n        draggable="true"\n        [attr.data-type]="node.name"\n        (dragstart)="onBlockDrag($event)"\n        [ngStyle]="{ \'background-color\': node.color }"\n      >\n        {{ node.name }}\n      </div>\n      <div></div>\n    </div>\n    <rxzu-diagram\n      class="demo-diagram"\n      [model]="diagramModel"\n      (drop)="onBlockDropped($event)"\n      (dragover)="$event.preventDefault()"\n    ></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):"",(__webpack_require__(302).default||__webpack_require__(302)).length?__webpack_require__(302).default||__webpack_require__(302):""]}),Object(tslib_es6.b)("design:paramtypes",[])],drag_and_drop_component_DragAndDropExampleStoryComponent);__webpack_exports__.default={title:"Drag And Drop",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[drag_and_drop_component_DragAndDropExampleStoryComponent],providers:[],imports:[common.a,src.l]})]};const DragAndDrop=(args=>({component:drag_and_drop_component_DragAndDropExampleStoryComponent,props:args})).bind({});DragAndDrop.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: DragAndDropExampleStoryComponent,\n  props: args,\n})"}},DragAndDrop.parameters)},1319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DynamicPorts",(function(){return DynamicPorts}));var _a,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let dynamic_ports_component_DynamicPortsExampleStoryComponent=class DynamicPortsExampleStoryComponent{constructor(){this.diagramModel=new src.e}ngOnInit(){const nodesDefaultDimensions={height:200,width:200},node1=new src.j({coords:{x:500,y:300},dimensions:nodesDefaultDimensions,id:"1"}),outPort1=new src.k({id:"1"}),outPort2=new src.k({id:"2"}),outPort3=new src.k({id:"3"});node1.addPort(outPort1),node1.addPort(outPort2),node1.addPort(outPort3);const node2=new src.j({coords:{x:1e3,y:0},dimensions:nodesDefaultDimensions}),inPort=new src.k;node2.addPort(inPort);for(let index=0;index<2;index++){const nodeLoop=new src.j({coords:{x:1e3,y:300+300*index},dimensions:nodesDefaultDimensions}),loopPort=new src.k;nodeLoop.addPort(loopPort),this.diagramModel.addNode(nodeLoop)}const link=outPort3.link(inPort),models=[node1,node2];link&&(link.setLocked(),models.push(link)),this.diagramModel.addAll(...models)}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}addPort(){const node=this.diagramModel.getNode("1");if(!node)return;const portsArray=node.getPortsArray(),lastPort=portsArray[portsArray.length-1];let newId;newId=lastPort?(+lastPort.id+1).toString():"0";const newPort=new src.k({id:newId});node.addPort(newPort)}removePort(){const node=this.diagramModel.getNode("1");if(!node)return;const firstPort=node.getPortsArray()[0];firstPort&&node.removePort(firstPort)}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],dynamic_ports_component_DynamicPortsExampleStoryComponent.prototype,"diagram",void 0),dynamic_ports_component_DynamicPortsExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <button (click)="addPort()">Add Last Port</button>\n      <button (click)="removePort()">Remove First Port</button>\n    </div>\n    <rxzu-diagram class="demo-diagram" [model]="diagramModel"></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",[])],dynamic_ports_component_DynamicPortsExampleStoryComponent);__webpack_exports__.default={title:"Dynamic Ports",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[dynamic_ports_component_DynamicPortsExampleStoryComponent],providers:[],imports:[common.a,src.l]})]};const DynamicPorts=(args=>({component:dynamic_ports_component_DynamicPortsExampleStoryComponent,props:args})).bind({});DynamicPorts.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: DynamicPortsExampleStoryComponent,\n  props: args,\n})"}},DynamicPorts.parameters)},1320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Performance",(function(){return Performance}));var _a,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0),interval=__webpack_require__(534),animationFrame=__webpack_require__(426),bufferTime=__webpack_require__(535),map=__webpack_require__(47);let performance_component_PerformanceExampleStoryComponent=class PerformanceExampleStoryComponent{constructor(){this.fps$=Object(interval.a)(0,animationFrame.b).pipe(Object(bufferTime.a)(1e3),Object(map.a)(value=>value.length)),this.initialRenderTimer=0,this.isResseted=!1,this.numberOfNodes=500,this.diagramModel=new src.e}ngOnInit(){this.createDiagram()}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}createDiagram(){this.createNodes()}resetDiagram(){this.diagramModel.reset(),this.isResseted=!0}createNodes(){this.isResseted=!1;const startTime=performance.now();for(let index=0;index<this.numberOfNodes;index++){const nodeLoop=new src.j({id:""+index}),row=index%10,col=Math.floor(index/10);nodeLoop.setCoords({x:1e3*row,y:300*col});const inPort=new src.k({id:""+index}),outPort=new src.k;nodeLoop.addPort(inPort);const outport=nodeLoop.addPort(outPort);if(this.diagramModel.addNode(nodeLoop),index>0){const prevPort=this.diagramModel.getNode(""+(index-1)).getPort(""+(index-1)),link=outport.link(prevPort);if(link){const label=new src.g({text:"label"});link.setLabel(label),this.diagramModel.addLink(link)}}}const endTime=performance.now();this.initialRenderTimer=endTime-startTime}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],performance_component_PerformanceExampleStoryComponent.prototype,"diagram",void 0),performance_component_PerformanceExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <button (click)="resetDiagram()" *ngIf="isResseted === false">\n        Reset\n      </button>\n      <button (click)="createDiagram()" *ngIf="isResseted">Recreate</button>\n      FPS: {{ fps$ | async }} Rendered {{ numberOfNodes }} nodes and links in\n      {{ initialRenderTimer | number: \'1.0-0\' }} ms\n    </div>\n    <rxzu-diagram class="demo-diagram" [model]="diagramModel"></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.b)("design:paramtypes",[])],performance_component_PerformanceExampleStoryComponent);__webpack_exports__.default={title:"Performance",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[performance_component_PerformanceExampleStoryComponent],providers:[],imports:[common.a,src.l]})]};const Performance=(args=>({component:performance_component_PerformanceExampleStoryComponent,props:args})).bind({});Performance.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: PerformanceExampleStoryComponent,\n  props: args,\n})"}},Performance.parameters)},1321:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ZoomToFit",(function(){return ZoomToFit}));var _a,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let zoom_to_fit_component_ZoomToFitExampleStoryComponent=class ZoomToFitExampleStoryComponent{constructor(){this.diagramModel=new src.e}ngOnInit(){const node1=new src.j;node1.setCoords({x:500,y:300});const outport1=new src.k;node1.addPort(outport1);const node2=new src.j;node2.setCoords({x:100,y:100});const inport=new src.k;node2.addPort(inport);for(let index=0;index<2;index++){const nodeLoop=new src.j;nodeLoop.setCoords({x:10*Math.random()*1e3,y:300+index*(10*Math.random())*300});const inportLoop=new src.k;node2.addPort(inport),nodeLoop.addPort(inportLoop),this.diagramModel.addNode(nodeLoop);const linkLoop=outport1.link(inportLoop);linkLoop&&this.diagramModel.addLink(linkLoop)}this.diagramModel.addAll(node1,node2)}ngAfterViewInit(){this.zoomToFit()}zoomToFit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],zoom_to_fit_component_ZoomToFitExampleStoryComponent.prototype,"diagram",void 0),zoom_to_fit_component_ZoomToFitExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <button (click)="zoomToFit()">Zoom to fit</button>\n    </div>\n    <rxzu-diagram class="demo-diagram" [model]="diagramModel"></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",[])],zoom_to_fit_component_ZoomToFitExampleStoryComponent);__webpack_exports__.default={title:"Zoom To Fit",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[zoom_to_fit_component_ZoomToFitExampleStoryComponent],providers:[src.a],imports:[common.a,src.l]})]};const ZoomToFit=(args=>({component:zoom_to_fit_component_ZoomToFitExampleStoryComponent,props:args})).bind({});ZoomToFit.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: ZoomToFitExampleStoryComponent,\n  props: args,\n})"}},ZoomToFit.parameters)},1322:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ZoomToNode",(function(){return ZoomToNode}));var _a,client=__webpack_require__(62),common=__webpack_require__(14),src=__webpack_require__(4),tslib_es6=__webpack_require__(2),core=__webpack_require__(0);let zoom_to_node_component_ZoomToNodeExampleStoryComponent=class ZoomToNodeExampleStoryComponent{constructor(){this.diagramModel=new src.e}ngOnInit(){const node1=new src.j;node1.setCoords({x:500,y:300});const outport1=new src.k;node1.addPort(outport1);const node2=new src.j;node2.setCoords({x:100,y:100});const inport=new src.k;node2.addPort(inport),node2.setSelected(!0);for(let index=0;index<2;index++){const nodeLoop=new src.j;nodeLoop.setCoords({x:10*Math.random()*1e3,y:300+index*(10*Math.random())*300});const inportLoop=new src.k;node2.addPort(inport),nodeLoop.addPort(inportLoop),this.diagramModel.addNode(nodeLoop);const linkLoop=outport1.link(inportLoop);linkLoop&&this.diagramModel.addLink(linkLoop)}this.diagramModel.addAll(node1,node2)}ngAfterViewInit(){var _a;null===(_a=this.diagram)||void 0===_a||_a.zoomToFit()}zoomToNode(){var _a;const allNodes=this.diagramModel.getNodesArray(),nodeToZoomInto=allNodes[allNodes.length-1];null===(_a=this.diagram)||void 0===_a||_a.zoomToNodes([nodeToZoomInto],100)}};Object(tslib_es6.a)([Object(core.ViewChild)(src.m,{static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(_a=void 0!==src.m&&src.m)?_a:Object)],zoom_to_node_component_ZoomToNodeExampleStoryComponent.prototype,"diagram",void 0),zoom_to_node_component_ZoomToNodeExampleStoryComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"app-root",template:'\n    <div class="action-bar">\n      <button (click)="zoomToNode()">Zoom to node</button>\n    </div>\n    <rxzu-diagram class="demo-diagram" [model]="diagramModel"></rxzu-diagram>\n  ',styles:[(__webpack_require__(40).default||__webpack_require__(40)).length?__webpack_require__(40).default||__webpack_require__(40):""]}),Object(tslib_es6.b)("design:paramtypes",[])],zoom_to_node_component_ZoomToNodeExampleStoryComponent);__webpack_exports__.default={title:"Zoom To Node",parameters:{docs:{iframeHeight:"400px"}},decorators:[Object(client.moduleMetadata)({declarations:[zoom_to_node_component_ZoomToNodeExampleStoryComponent],providers:[],imports:[common.a,src.l]})]};const ZoomToNode=(args=>({component:zoom_to_node_component_ZoomToNodeExampleStoryComponent,props:args})).bind({});ZoomToNode.parameters=Object.assign({storySource:{source:"(args: any) => ({\n  component: ZoomToNodeExampleStoryComponent,\n  props: args,\n})"}},ZoomToNode.parameters)},292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div\n  class="rxzu-diagram"\n  #canvas\n  (mousedown)="onMouseDown($event)"\n  (wheel)="onMouseWheel($event)"\n  (keyup)="onKeyUp($event)"\n  tabindex="1"\n>\n  \x3c!-- Nodes Layer --\x3e\n  <div class="rxzu-nodes-layer">\n    <ng-template #nodesLayer></ng-template>\n  </div>\n\n  \x3c!-- Links Layer --\x3e\n  <div class="rxzu-links-layer">\n    <ng-template #linksLayer></ng-template>\n  </div>\n\n  \x3c!-- Selection Box --\x3e\n  <div\n    *ngIf="selectionBox$ | async as selectionBox"\n    class="selector"\n    [ngStyle]="{\n      top: selectionBox?.dimensions.top + \'px\',\n      left: selectionBox?.dimensions.left + \'px\',\n      width: selectionBox?.dimensions.width + \'px\',\n      height: selectionBox?.dimensions.height + \'px\'\n    }"\n  ></div>\n</div>\n'},293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".rxzu-diagram {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  cursor: move;\n  overflow: hidden;\n}\n.rxzu-diagram:focus {\n  outline: none;\n}\n.rxzu-diagram .selector {\n  position: absolute;\n  background-color: rgba(0, 192, 255, 0.2);\n  border: solid 2px #00c0ff;\n}\n.rxzu-diagram .rxzu-nodes-layer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  overflow: visible;\n  pointer-events: none;\n  z-index: 150;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.rxzu-diagram .rxzu-links-layer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  overflow: visible;\n  pointer-events: none;\n  z-index: 100;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}"},294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div\n  class=\"default-label\"\n  [ngStyle]=\"{\n    transform:\n      'translate(' +\n      (model.selectCoords() | async)?.x +\n      'px, ' +\n      (model.selectCoords() | async)?.y +\n      'px)' +\n      'rotate(' +\n      (model.selectRotation() | async) +\n      'deg)'\n  }\"\n>\n  {{ model.selectText() | async }}\n</div>\n"},295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.default-label {\n  color: white;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}"},296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Label Host --\x3e\n<ng-template #labelLayer></ng-template>\n\n<svg class="link-container">\n  \x3c!-- Link --\x3e\n  <g [id]="model.id">\n    <path\n      class="default-link"\n      stroke-width="1"\n      stroke="white"\n      [attr.d]="model.selectPath() | async"\n      (mouseleave)="model.setHovered(false); onHover()"\n      (mouseenter)="model.setHovered(); onHover()"\n      [ngClass]="{ hovered: model.selectHovered() | async }"\n    ></path>\n    <path\n      class="default-link"\n      stroke="blue"\n      stroke-linecap="round"\n      (mouseleave)="model.setHovered(false); onHover()"\n      (mouseenter)="model.setHovered(); onHover()"\n      [attr.stroke-width]="20"\n      [attr.data-type]="model.type"\n      [attr.data-id]="model.id"\n      [attr.stroke-opacity]="(model.selectHovered() | async) ? \'0.1\' : \'0\'"\n      [attr.d]="model.selectPath() | async"\n    ></path>\n  </g>\n\n  \x3c!-- Points --\x3e\n  <g\n    *ngFor="let point of model.getPoints(); trackBy: trackByPoints"\n    [id]="point.id"\n  >\n    <circle\n      fill="currentColor"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="5"\n      class="default-point"\n      [ngClass]="{ hovered: point.selectHovered() | async }"\n    />\n    <circle\n      [attr.data-type]="point.type"\n      [attr.data-id]="point.id"\n      [attr.data-parent-id]="model.id"\n      (mouseleave)="point.setHovered(false); model.setHovered(false)"\n      (mouseenter)="point.setHovered(); model.setHovered()"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="15"\n      [attr.opacity]="0"\n      [ngClass]="{ selected: point.selectSelected() | async }"\n    />\n  </g>\n</svg>\n'},297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.link-container {\n  position: relative;\n  fill: none;\n  overflow: visible;\n  pointer-events: all;\n}\n\n.default-link {\n  fill: none;\n  overflow: visible;\n}\n\n@-webkit-keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n\n@keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n\n.default-link.hovered {\n  stroke: #00c0ff;\n  stroke-dasharray: 10, 2;\n  -webkit-animation: dash 1s linear infinite;\n          animation: dash 1s linear infinite;\n}\n\n.default-point {\n  color: lightgray;\n  overflow: visible;\n  pointer-events: all;\n}\n\n.default-point.hovered {\n  color: #00c0ff;\n}"},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div\n  class="default-node"\n  [ngClass]="{\n    selected: model.selectSelected() | async,\n    hovered: model.selectHovered() | async\n  }"\n  (mouseover)="model.setHovered()"\n  (mouseout)="model.setHovered(false)"\n>\n  <div class="ports">\n    <ng-template #portsLayer></ng-template>\n  </div>\n</div>\n'},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.default-node {\n  display: block;\n  width: 200px;\n  height: 200px;\n  pointer-events: all;\n  border-radius: 10px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: auto;\n  background-color: white;\n}\n\n.default-node.selected {\n  background-color: honeydew;\n}\n\n.default-node.hovered {\n  background-color: gainsboro;\n}\n\n.ports {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}"},300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div draggable="false"></div>\n'},301:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: relative;\n  width: 10px;\n  height: 10px;\n  border-radius: 60px;\n  border: 1px solid gray;\n  background-color: lightgray;\n  margin: 10px 0;\n}"},302:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".node-drag {\n  display: block;\n  cursor: -webkit-grab;\n  cursor: grab;\n  background-color: white;\n  border-radius: 30px;\n  padding: 5px 15px;\n}"},303:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div\n  class=\"default-label\"\n  [ngStyle]=\"{\n    transform:\n      'translate(' +\n      (model.selectCoords() | async)?.x +\n      'px, ' +\n      (model.selectCoords() | async)?.y +\n      'px)' +\n      'rotate(' +\n      (model.selectRotation() | async) +\n      'deg)'\n  }\"\n>\n  {{ model.selectText() | async }}\n</div>\n"},304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.default-label {\n  color: white;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}"},305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div\n  class=\"inner-circle\"\n  [ngClass]=\"(model.selectHovered() | async) ? 'hovered' : ''\"\n></div>\n"},306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=':host {\n  position: absolute;\n  top: 35%;\n  border-radius: 50%;\n  width: 14px;\n  height: 14px;\n}\n:host::before {\n  position: absolute;\n  content: "";\n  border-radius: 50%;\n  transition: background-color 0.12s ease-out;\n  top: 1px;\n  left: 1px;\n  width: 12px;\n  height: 12px;\n  background-color: #21262d;\n}\n:host.in {\n  left: -8px;\n  background-image: linear-gradient(270deg, #21262d, #21262d 36%, #30363d 0, #30363d);\n}\n:host.out {\n  right: -8px;\n  background-image: linear-gradient(90deg, #21262d, #21262d 36%, #30363d 0, #30363d);\n}\n:host .inner-circle {\n  position: relative;\n  top: 3px;\n  left: 3px;\n  width: 8px;\n  height: 8px;\n  content: "";\n  background-color: #484f58;\n  border-radius: 50%;\n  transition: background-color ease-out 0.12s;\n}\n:host .inner-circle.hovered {\n  background-color: #1f6ff1;\n}'},307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Label Host --\x3e\n<ng-template #labelLayer></ng-template>\n\n<svg class="link-container">\n  \x3c!-- Link --\x3e\n  <g [id]="model.id">\n    <path\n      class="gh-workflow-link"\n      stroke-width="2"\n      stroke="#484f58"\n      [attr.d]="model.selectPath() | async"\n      [ngClass]="{ hovered: model.selectHovered() | async }"\n    ></path>\n  </g>\n\n  \x3c!-- Points --\x3e\n  <g\n    *ngFor="let point of model.getPoints(); trackBy: trackByPoints"\n    [id]="point.id"\n  >\n    <circle\n      fill="currentColor"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="5"\n      class="gh-workflow-point"\n      [ngClass]="{ hovered: point.selectHovered() | async }"\n    />\n    <circle\n      [attr.data-type]="point.type"\n      [attr.data-id]="point.id"\n      [attr.data-parent-id]="model.id"\n      (mouseleave)="point.setHovered(false); model.setHovered(false)"\n      (mouseenter)="point.setHovered(); model.setHovered()"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="15"\n      [attr.opacity]="0"\n      [ngClass]="{ selected: point.selectSelected() | async }"\n    />\n  </g>\n</svg>\n'},308:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.link-container {\n  position: relative;\n  fill: none;\n  overflow: visible;\n  pointer-events: all;\n}\n\n.gh-workflow-link {\n  transition: background-color 0.12s ease-out;\n  fill: none;\n  overflow: visible;\n}\n\n.gh-workflow-link.hovered {\n  stroke: #1f6ff1;\n}\n\n.gh-workflow-point {\n  transition: background-color 0.12s ease-out;\n  color: lightgray;\n  overflow: visible;\n  pointer-events: all;\n}\n\n.gh-workflow-point.hovered {\n  color: #1f6ff1;\n}"},309:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div\n  class="gh-workflow-node"\n  (mouseover)="model.setHovered()"\n  (mouseout)="model.setHovered(false)"\n>\n  <div\n    class="pipes"\n    [ngClass]="{ multiple: (model.selectExtras() | async).length > 1 }"\n  >\n    <div\n      *ngFor="\n        let pipe of model.selectExtras() | async;\n        let l = count;\n        let i = index\n      "\n      class="content"\n    >\n      <div class="status" [ngClass]="pipe.status">\n        \x3c!-- {{ pipe.status }} --\x3e\n        <svg\n          width="16"\n          height="16"\n          viewBox="0 0 16 16"\n          version="1.1"\n          aria-hidden="true"\n          fill="currentColor"\n        >\n          <ng-container *ngIf="pipe.status === \'success\'">\n            <path\n              fill-rule="evenodd"\n              d="M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"\n            ></path>\n          </ng-container>\n          <ng-container *ngIf="pipe.status === \'fail\'">\n            <path\n              fill-rule="evenodd"\n              d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"\n            ></path>\n          </ng-container>\n        </svg>\n      </div>\n      <div class="name">\n        {{ pipe.displayName }}\n      </div>\n      <div class="time">\n        {{ pipe.executionTime / 60 | number: \'1.0\':\'en-US\' }}s\n      </div>\n    </div>\n  </div>\n\n  <div class="ports">\n    <ng-template #portsLayer></ng-template>\n  </div>\n</div>\n'},310:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  display: block;\n  position: absolute;\n}\n\n.gh-workflow-node {\n  min-height: 50px;\n  min-width: 260px;\n  border: 1px solid #30363d;\n  display: flex;\n  pointer-events: all;\n  width: 100%;\n  border-radius: 10px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: auto;\n  background-color: #21262d;\n  transition: background-color 0.12s ease-out, border-color 0.12s ease-out, box-shadow 0.12s ease-out;\n}\n\n.pipes {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.pipes.multiple {\n  padding: 16px;\n}\n\n.pipes .content {\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  transition: opacity 0.12s ease-out, background-color 0.12s ease-out;\n  cursor: pointer;\n  padding: 12px;\n  height: 100%;\n}\n\n.pipes .content:hover:not(:only-child) {\n  background-color: #0d1117;\n}\n\n.pipes .content .status {\n  flex: 0;\n  display: flex;\n}\n\n.pipes .content .status.success {\n  color: #2ea043;\n}\n\n.pipes .content .status.fail {\n  color: #f85149;\n}\n\n.pipes .content .name {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: 500;\n  padding-left: 8px;\n  color: #c9d1d9;\n}\n\n.pipes .content .time {\n  flex: 0;\n  padding-left: 4px;\n  font-size: 12px;\n  color: #8b949e;\n  flex-shrink: 0;\n}\n\n.ports {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}"},311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".vonage-studio-diagram {\n  display: flex;\n  height: 100%;\n  min-height: 100vh;\n  background-color: #f2f2f2;\n  background-image: linear-gradient(0deg, transparent 24%, rgba(85, 85, 85, 0.1) 25%, rgba(85, 85, 85, 0.1) 26%, transparent 27%, transparent 74%, rgba(85, 85, 85, 0.1) 75%, rgba(85, 85, 85, 0.1) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(85, 85, 85, 0.1) 25%, rgba(85, 85, 85, 0.1) 26%, transparent 27%, transparent 74%, rgba(85, 85, 85, 0.1) 75%, rgba(85, 85, 85, 0.1) 76%, transparent 77%, transparent);\n  background-size: 50px 50px;\n}"},312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div\n  class="vonage-studio-label"\n  (mouseenter)="model.setHovered(); onHover()"\n  (mouseleave)="model.setHovered(false)"\n  [ngStyle]="{\n    transform:\n      \'translate(\' +\n      ((model.selectCoords() | async).x - 35) +\n      \'px, \' +\n      ((model.selectCoords() | async).y - 35) +\n      \'px)\'\n  }"\n  (click)="deleteLink()"\n  [ngClass]="{\n    show:\n      (model.getParent().selectHovered() | async) ||\n      (model.selectHovered() | async)\n  }"\n>\n  <svg\n    fill="currentcolor"\n    xmlns="http://www.w3.org/2000/svg"\n    height="14px"\n    width="14px"\n    viewBox="-47 0 512 512"\n  >\n    <path\n      fill="currentcolor"\n      d="m416.875 114.441406-11.304688-33.886718c-4.304687-12.90625-16.339843-21.578126-29.941406-21.578126h-95.011718v-30.933593c0-15.460938-12.570313-28.042969-28.027344-28.042969h-87.007813c-15.453125 0-28.027343 12.582031-28.027343 28.042969v30.933593h-95.007813c-13.605469 0-25.640625 8.671876-29.945313 21.578126l-11.304687 33.886718c-2.574219 7.714844-1.2695312 16.257813 3.484375 22.855469 4.753906 6.597656 12.445312 10.539063 20.578125 10.539063h11.816406l26.007813 321.605468c1.933594 23.863282 22.183594 42.558594 46.109375 42.558594h204.863281c23.921875 0 44.175781-18.695312 46.105469-42.5625l26.007812-321.601562h6.542969c8.132812 0 15.824219-3.941407 20.578125-10.535157 4.753906-6.597656 6.058594-15.144531 3.484375-22.859375zm-249.320312-84.441406h83.0625v28.976562h-83.0625zm162.804687 437.019531c-.679687 8.402344-7.796875 14.980469-16.203125 14.980469h-204.863281c-8.40625 0-15.523438-6.578125-16.203125-14.980469l-25.816406-319.183593h288.898437zm-298.566406-349.183593 9.269531-27.789063c.210938-.640625.808594-1.070313 1.484375-1.070313h333.082031c.675782 0 1.269532.429688 1.484375 1.070313l9.269531 27.789063zm0 0"\n    />\n    <path\n      fill="currentcolor"\n      d="m282.515625 465.957031c.265625.015625.527344.019531.792969.019531 7.925781 0 14.550781-6.210937 14.964844-14.21875l14.085937-270.398437c.429687-8.273437-5.929687-15.332031-14.199219-15.761719-8.292968-.441406-15.328125 5.925782-15.761718 14.199219l-14.082032 270.398437c-.429687 8.273438 5.925782 15.332032 14.199219 15.761719zm0 0"\n    />\n    <path\n      fill="currentcolor"\n      d="m120.566406 451.792969c.4375 7.996093 7.054688 14.183593 14.964844 14.183593.273438 0 .554688-.007812.832031-.023437 8.269531-.449219 14.609375-7.519531 14.160157-15.792969l-14.753907-270.398437c-.449219-8.273438-7.519531-14.613281-15.792969-14.160157-8.269531.449219-14.609374 7.519532-14.160156 15.792969zm0 0"\n    />\n    <path\n      fill="currentcolor"\n      d="m209.253906 465.976562c8.285156 0 15-6.714843 15-15v-270.398437c0-8.285156-6.714844-15-15-15s-15 6.714844-15 15v270.398437c0 8.285157 6.714844 15 15 15zm0 0"\n    />\n  </svg>\n</div>\n'},313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.vonage-studio-label {\n  width: 26px;\n  height: 26px;\n  background-color: white;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: all;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  opacity: 0;\n  cursor: pointer;\n  transition: opacity 300ms ease-in-out;\n}\n\n.vonage-studio-label .delete-link-icon {\n  display: flex;\n}\n\n.vonage-studio-label.show {\n  opacity: 1;\n}"},314:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div></div>\n"},315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n  top: 35%;\n  border-radius: 50%;\n  width: 10px;\n  height: 10px;\n  background-color: #ffffff;\n  border: 1px solid #b3b3b3;\n}\n:host.in {\n  left: -5px;\n  top: 45%;\n}\n:host.out {\n  right: -5px;\n}"},316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Label Host --\x3e\n<ng-template #labelLayer></ng-template>\n\n<svg class="link-container">\n  \x3c!-- Link --\x3e\n  <g [id]="model.id">\n    <path\n      class="vonage-studio-link"\n      stroke-width="2"\n      [attr.stroke]="\n        (model.selectSelected() | async) || (model.selectHovered() | async)\n          ? \'rgba(101, 186, 255, 0.7)\'\n          : \'#B3B3B3\'\n      "\n      [attr.d]="model.selectPath() | async"\n      [ngClass]="{ hovered: model.selectHovered() | async }"\n      (mouseleave)="model.setHovered(false); onHover()"\n      (mouseenter)="model.setHovered(); onHover()"\n    ></path>\n    <path\n      class="default-link"\n      (mouseleave)="model.setHovered(false); onHover()"\n      (mouseenter)="model.setHovered(); onHover()"\n      [attr.stroke-width]="20"\n      [attr.stroke]="\n        (model.selectSelected() | async) || (model.selectHovered() | async)\n          ? \'rgba(101, 186, 255, 0.7)\'\n          : \'#B3B3B3\'\n      "\n      [attr.stroke-linecap]="\'round\'"\n      [attr.data-linkid]="model.id"\n      [attr.stroke-opacity]="(model.selectHovered() | async) ? \'0.1\' : \'0\'"\n      [attr.d]="model.selectPath() | async"\n      (mouseleave)="model.setHovered(false); onHover()"\n      (mouseenter)="model.setHovered(); onHover()"\n    ></path>\n  </g>\n\n  \x3c!-- Points --\x3e\n  <g\n    *ngFor="let point of model.getPoints(); trackBy: trackByPoints"\n    [id]="point.id"\n  >\n    <circle\n      fill="currentColor"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="5"\n      class="vonage-studio-point"\n      [ngClass]="{ hovered: point.selectHovered() | async }"\n    />\n    <circle\n      [attr.data-type]="point.type"\n      [attr.data-id]="point.id"\n      [attr.data-parent-id]="model.id"\n      (mouseleave)="point.setHovered(false); model.setHovered(false)"\n      (mouseenter)="point.setHovered(); model.setHovered()"\n      [attr.cx]="point.selectX() | async"\n      [attr.cy]="point.selectY() | async"\n      r="15"\n      [attr.opacity]="0"\n      [ngClass]="{ selected: point.selectSelected() | async }"\n    />\n  </g>\n</svg>\n'},317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n}\n\n.link-container {\n  position: relative;\n  fill: none;\n  overflow: visible;\n  pointer-events: all;\n  position: relative;\n}\n\n.link-container .vonage-studio-link {\n  transition: stroke 300ms ease-in-out;\n}\n\n.vonage-studio-point {\n  color: lightgray;\n  overflow: visible;\n  pointer-events: all;\n}"},318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="vstudio-node" [ngStyle]="{ \'box-shadow\': boxShadow$ | async }">\n  <ng-container *ngIf="model.selectExtras() | async as extras">\n    <div class="content" [ngStyle]="{ background: nodeGradient }">\n      <div class="header">\n        <div class="title">\n          {{ extras.title }}\n        </div>\n        <div class="icon">\n          {{ extras.icon }}\n        </div>\n      </div>\n      <div class="info">\n        <div class="input" *ngFor="let input of extras.inputs">\n          {{ input.content }}\n        </div>\n      </div>\n    </div>\n  </ng-container>\n\n  <div class="ports">\n    <ng-template #portsLayer></ng-template>\n  </div>\n</div>\n'},319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  display: block;\n  position: absolute;\n}\n\n.vstudio-node {\n  min-height: 50px;\n  width: 230px;\n  border: 1px solid #ffffff;\n  display: flex;\n  pointer-events: all;\n  border-radius: 8px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: auto;\n  transition: box-shadow 300ms ease-in-out;\n}\n\n.vstudio-node .content {\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n  width: 100%;\n  min-width: 0;\n}\n\n.vstudio-node .content .header {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.vstudio-node .content .header .title {\n  font-size: 12px;\n}\n\n.vstudio-node .content .info {\n  margin-top: 6px;\n}\n\n.vstudio-node .content .info .input {\n  font-size: 12px;\n  display: block;\n  padding: 3px 5px;\n  background-color: white;\n  border: 1px solid #999999;\n  border-radius: 3px;\n  font-size: 12px;\n  margin-bottom: 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ports {\n  display: flex;\n  flex-direction: column;\n}"},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",(function(){return diagram_component_RxZuDiagramComponent})),__webpack_require__.d(__webpack_exports__,"i",(function(){return MODEL})),__webpack_require__.d(__webpack_exports__,"f",(function(){return engine_service_EngineService})),__webpack_require__.d(__webpack_exports__,"n",(function(){return main_module_RxZuModule})),__webpack_require__.d(__webpack_exports__,"b",(function(){return default_link_component_DefaultLinkComponent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return default_node_component_DefaultNodeComponent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return DefaultPortComponent})),__webpack_require__.d(__webpack_exports__,"l",(function(){return RxZuDefaultsModule})),__webpack_require__.d(__webpack_exports__,"e",(function(){return diagram_model_DiagramModel})),__webpack_require__.d(__webpack_exports__,"h",(function(){return link_model_LinkModel})),__webpack_require__.d(__webpack_exports__,"j",(function(){return node_model_NodeModel})),__webpack_require__.d(__webpack_exports__,"k",(function(){return port_model_PortModel})),__webpack_require__.d(__webpack_exports__,"g",(function(){return label_model_LabelModel})),__webpack_require__.d(__webpack_exports__,"a",(function(){return dagre_engine_plugin_DagrePlugin})),__webpack_require__.d(__webpack_exports__,"o",(function(){return createValueState}));var tslib_es6=__webpack_require__(2),core=__webpack_require__(0),of=__webpack_require__(155),noop=__webpack_require__(91),combineLatest=__webpack_require__(194),takeUntil=__webpack_require__(542),switchMap=__webpack_require__(173),map=__webpack_require__(47),tap=__webpack_require__(543);class BaseAction{constructor(){this.ms=(new Date).getTime()}}class base_mouse_action_BaseMouseAction extends BaseAction{constructor(mouseX,mouseY){super(),this.mouseX=mouseX,this.mouseY=mouseY}}class move_canvas_action_MoveCanvasAction extends base_mouse_action_BaseMouseAction{constructor(mouseX,mouseY,diagramModel){super(mouseX,mouseY),this.initialOffsetX=diagramModel.getOffsetX(),this.initialOffsetY=diagramModel.getOffsetY()}}class selecting_action_SelectingAction extends base_mouse_action_BaseMouseAction{constructor(mouseX,mouseY){super(mouseX,mouseY),this.mouseX2=mouseX,this.mouseY2=mouseY,this.dimensions={top:0,left:0,width:0,height:0,right:0,bottom:0}}getBoxDimensions(){return this.dimensions={left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2},this.dimensions}containsElement(topLeftPoint,bottomRightPoint,diagramModel){const z=diagramModel.getZoomLevel()/100,dimensions=this.getBoxDimensions(),isContainsTopLeftPoint=topLeftPoint.x*z+diagramModel.getOffsetX()>dimensions.left&&topLeftPoint.x*z+diagramModel.getOffsetX()<dimensions.right&&topLeftPoint.y*z+diagramModel.getOffsetY()>dimensions.top&&topLeftPoint.y*z+diagramModel.getOffsetY()<dimensions.bottom,isContainBottomRightPoint=bottomRightPoint.x*z+diagramModel.getOffsetX()>dimensions.left&&bottomRightPoint.x*z+diagramModel.getOffsetX()<dimensions.right&&bottomRightPoint.y*z+diagramModel.getOffsetY()>dimensions.top&&bottomRightPoint.y*z+diagramModel.getOffsetY()<dimensions.bottom;return isContainsTopLeftPoint&&isContainBottomRightPoint}}var BehaviorSubject=__webpack_require__(321),distinctUntilChanged=__webpack_require__(327);class value_state_ValueState{constructor(value,operator){this.stream$=new BehaviorSubject.a(value),this.value$=operator?this.stream$.pipe(operator):this.stream$.asObservable()}get value(){return this.stream$.getValue()}set(value){return this.stream$.next(value),this}select(project){const mapFn=project||(v=>v);return this.value$.pipe(Object(map.a)(value=>mapFn(value)),Object(distinctUntilChanged.a)())}}class entity_state_EntityState extends value_state_ValueState{constructor(value,entityPipe){super(value,entityPipe)}destroy(){this.clear()}clear(){return this.forEach(entity=>entity.destroy()),this.value.clear(),this.stream$.next(this.value),this}get(id){return this.value.get(id)}has(id){return this.value.has(id)}add(entity){return this.value.set(entity.id,entity),this.stream$.next(this.value),this}addMany(entities){for(const entity of entities)this.add(entity);return this.stream$.next(this.value),this}remove(id,destroy=!0){var _a;return destroy&&(null===(_a=this.value.get(id))||void 0===_a||_a.destroy()),this.value.delete(id),this.stream$.next(this.value),this}array(){return Array.from(this.value.values())}array$(){return this.select(value=>Array.from(value.values()))}forEach(cb){this.value.forEach(cb)}map(cb){return this.array().map(cb)}}var LOG_LEVEL,shareReplay=__webpack_require__(540);!function(LOG_LEVEL){LOG_LEVEL[LOG_LEVEL.LOG=0]="LOG",LOG_LEVEL[LOG_LEVEL.ERROR=1]="ERROR"}(LOG_LEVEL||(LOG_LEVEL={}));let __DEV__=!0,__LOG__=LOG_LEVEL.ERROR;function isDev(){return __DEV__}function log(message,level=LOG_LEVEL.LOG,...args){isDev()&&__LOG__===level&&(__LOG__===LOG_LEVEL.ERROR&&console.error(message,...args),console.log(message,...args))}function withLog(message,level=LOG_LEVEL.LOG,...args){return source=>isDev()?source.pipe(Object(tap.a)(val=>log(message,level,val,...args))):source}function UID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{const r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}function isNil(v){return null==v}function isEmptyArray(arr){return!arr||!function isArray(val){return Array.isArray(val)}(arr)||0===arr.length}function toRegistryKey(type,name="default"){return`${type}-${name}`}function createValueState(value,operator){return new value_state_ValueState(value,operator)}function createEntityState(value=[],entityPipe){return Array.isArray(value)?new entity_state_EntityState(new Map(value),entityPipe):new entity_state_EntityState(new Map(function mapToEntries(map){const result=[];for(const key in map)result.push([key,map[key]]);return result}(value)),entityPipe)}var Subject=__webpack_require__(37);class event_interface_BaseEvent{constructor(entity){this.id=UID(),this.entity=entity,this.entityId=entity.id,this.firing=!0}}class LockEvent extends event_interface_BaseEvent{constructor(entity,locked=!1){super(entity),this.locked=locked}}class ParentChangeEvent extends event_interface_BaseEvent{constructor(entity,parent){super(entity),this.parent=parent}}class SelectionEvent extends event_interface_BaseEvent{constructor(entity,selected){super(entity),this.isSelected=selected}}class PaintedEvent extends event_interface_BaseEvent{constructor(entity,painted){super(entity),this.isPainted=painted}}class base_entity_BaseEntity{constructor(options){var _a,_b;this._id=options.id||UID(),this._type=options.type,this._logPrefix=""+(null!==(_a=options.logPrefix)&&void 0!==_a?_a:""),this.destroyed$=new Subject.a,this.locked$=createValueState(!!options.locked,this.entityPipe("locked")),this.namespace$=createValueState(null!==(_b=options.namespace)&&void 0!==_b?_b:"default",this.entityPipe("name"))}get type(){return this._type}get id(){return this._id}set id(id){this._id=id}get namespace(){return this.namespace$.value}set namespace(value){this.namespace$.set(value)}log(message,...args){log(`${this._logPrefix} ${message}: `,LOG_LEVEL.LOG,...args)}withLog(message,...args){return withLog(`${this._logPrefix} ${message}: `,LOG_LEVEL.LOG,...args)}entityPipe(logMessage=""){return function entityProperty(destroyedNotifier,replayBy=1,logMessage=""){return source=>source.pipe(Object(distinctUntilChanged.a)((a,b)=>!(a instanceof Map||b instanceof Map)&&a===b),Object(shareReplay.a)(replayBy),withLog(logMessage),Object(takeUntil.a)(destroyedNotifier))}(this.onEntityDestroy(),0,`${this._logPrefix}: ${logMessage}`)}getLocked(){return this.locked$.value}setLocked(locked=!0){this.locked$.set(locked)}doClone(lookupTable={},clone){}clone(lookupTable={}){if(lookupTable[this.id])return lookupTable[this.id];const clone=Object.assign({},this);return clone.id=UID(),lookupTable[this.id]=clone,this.doClone(lookupTable,clone),clone}lockChanges(){return this.locked$.select(locked=>new LockEvent(this,locked))}destroy(){this.log("entity destroyed"),this.destroyed$.next(),this.destroyed$.complete()}onEntityDestroy(){return this.destroyed$.pipe(Object(map.a)(()=>new event_interface_BaseEvent(this)))}}class base_model_BaseModel extends base_entity_BaseEntity{constructor(options){super(Object.assign({namespace:"default"},options)),this.parent$=createValueState(options.parent,this.entityPipe("ParentsChange")),this.selected$=createValueState(!1,this.entityPipe("SelectedChange")),this.hovered$=createValueState(!1,this.entityPipe("HoveredChange")),this.painted$=createValueState(new PaintedEvent(this,!1),this.entityPipe("PaintedChange"))}getParent(){return this.parent$.value}setParent(parent){this.parent$.set(parent)}parentChanges(){return this.parent$.select(p=>new ParentChangeEvent(this,p))}getPainted(){return this.painted$.value}setPainted(painted=!0){this.painted$.set(new PaintedEvent(this,painted))}paintChanges(){return this.painted$.value$}getHovered(){return this.hovered$.value}setHovered(hovered=!0){this.hovered$.set(hovered)}selectHovered(){return this.hovered$.select()}getSelected(){return this.selected$.value}selectSelected(){return this.selected$.select()}setSelected(selected=!0){this.selected$.set(selected)}selectionChanges(){return this.selected$.select(selected=>new SelectionEvent(this,selected))}getSelectedEntities(){return this.getSelected()?[this]:[]}}class point_model_PointModel extends base_model_BaseModel{constructor(options={}){var _a;super(Object.assign({type:"point",logPrefix:"[Point]"},options)),this.coords$=createValueState(null!==(_a=options.coords)&&void 0!==_a?_a:{x:0,y:0},this.entityPipe("coords"))}isConnectedToPort(){var _a;return null!==(null===(_a=this.getParent())||void 0===_a?void 0:_a.getPortForPoint(this))}getLink(){return this.getParent()}destroy(){var _a;null===(_a=this.getParent())||void 0===_a||_a.removePoint(this),super.destroy()}setCoords(newCoords){this.coords$.set(Object.assign(Object.assign({},this.getCoords()),newCoords))}selectCoords(){return this.coords$.value$}getCoords(){return this.coords$.value}selectX(){return this.coords$.select(coords=>coords.x)}selectY(){return this.coords$.select(coords=>coords.y)}}class link_model_LinkModel extends base_model_BaseModel{constructor(options={}){var _a,_b,_c,_d;super(Object.assign({type:"link",logPrefix:"[Link]"},options)),this.sourcePort$=createValueState(null!==(_a=options.sourcePort)&&void 0!==_a?_a:null,this.entityPipe("sourcePort")),this.targetPort$=createValueState(null!==(_b=options.targetPort)&&void 0!==_b?_b:null,this.entityPipe("targetPort")),this.extras$=createValueState(null!==(_c=options.extras)&&void 0!==_c?_c:{},this.entityPipe("extras")),this.label$=createValueState(null!==(_d=options.label)&&void 0!==_d?_d:null,this.entityPipe("label")),this.path$=createValueState(null,this.entityPipe("path")),this.points$=createValueState([new point_model_PointModel({parent:this,namespace:"default"}),new point_model_PointModel({parent:this,namespace:"default"})],this.entityPipe("points"))}setExtras(extras){this.extras$.set(extras)}getExtras(){return this.extras$.value}selectExtras(selector){return this.extras$.select(selector)}setPath(path){this.path$.set(path)}getPath(){return this.path$.value}selectPath(){return this.path$.select()}destroy(){var _a,_b;this.resetLabel(),null===(_a=this.sourcePort$.value)||void 0===_a||_a.removeLink(this),null===(_b=this.targetPort$.value)||void 0===_b||_b.removeLink(this),super.destroy()}doClone(lookupTable={},clone){clone.setPoints(this.getPoints().map(point=>point.clone(lookupTable))),this.sourcePort$.value&&clone.setSourcePort(this.sourcePort$.value.clone(lookupTable)),this.targetPort$.value&&clone.setTargetPort(this.targetPort$.value.clone(lookupTable))}isLastPoint(point){return this.getPointIndex(point)===this.points$.value.length-1}getPointIndex(point){return this.points$.value.indexOf(point)}getPointModel(id){for(const point of this.points$.value)if(point.id===id)return point}getPortForPoint(point){return null!==this.sourcePort$.value&&this.getFirstPoint().id===point.id?this.sourcePort$.value:null!==this.targetPort$.value&&this.getLastPoint().id===point.id?this.targetPort$.value:null}getPointForPort(port){return null!==this.sourcePort$.value&&this.sourcePort$.value.id===port.id?this.getFirstPoint():null!==this.targetPort$.value&&this.targetPort$.value.id===port.id?this.getLastPoint():null}getFirstPoint(){return this.points$.value[0]}getLastPoint(){return this.points$.value[this.points$.value.length-1]}setSourcePort(port){var _a;null!==port&&port.addLink(this),null===(_a=this.getSourcePort())||void 0===_a||_a.removeLink(this),this.sourcePort$.set(port)}getSourcePort(){return this.sourcePort$.value}getTargetPort(){return this.targetPort$.value}setTargetPort(port){var _a;null!==port&&port.addLink(this),null===(_a=this.getTargetPort())||void 0===_a||_a.removeLink(this),this.targetPort$.set(port)}point({x:x,y:y}){return this.addPoint(this.generatePoint({x:x,y:y}))}getPoints(){return this.points$.value}selectPoints(){return this.points$.select()}setPoints(points){points.forEach(point=>{point.setParent(this)}),this.points$.set(points)}setLabel(label){label.setParent(this),this.label$.set(label)}selectLabel(){return this.label$.value$}getLabel(){return this.label$.value}resetLabel(){const currentLabel=this.getLabel();currentLabel&&currentLabel.destroy()}removePoint(pointModel){this.points$.value.splice(this.getPointIndex(pointModel),1)}removePointsBefore(pointModel){this.points$.value.splice(0,this.getPointIndex(pointModel))}removePointsAfter(pointModel){this.points$.value.splice(this.getPointIndex(pointModel)+1)}removeMiddlePoints(){this.points$.value.length>2&&this.points$.value.splice(0,this.points$.value.length-2)}addPoint(pointModel,index=1){return pointModel.setParent(this),pointModel.setLocked(this.getLocked()),this.points$.value.splice(index,0,pointModel),pointModel}generatePoint({x:x=0,y:y=0}){return new point_model_PointModel({parent:this,coords:{x:x,y:y}})}setLocked(locked=!0){super.setLocked(locked),this.points$.value.forEach(point=>point.setLocked(locked))}}class move_items_action_MoveItemsAction extends base_mouse_action_BaseMouseAction{constructor(mouseX,mouseY,diagramEngine){super(mouseX,mouseY),this.moved=!1;const selectedItems=diagramEngine.getDiagramModel().getSelectedItems().filter(item=>!(diagramEngine.isModelLocked(item)||item instanceof link_model_LinkModel));this.selectionModels=selectedItems.map(item=>{const{x:initialX,y:initialY}=item.getCoords();return{model:item,initialX:initialX,initialY:initialY}})}}class links_created_action_LinkCreatedAction extends BaseAction{constructor(link){super(),this.sourcePort=null==link?void 0:link.getSourcePort(),this.targetPort=null==link?void 0:link.getTargetPort(),this.link=link}getOutPortNode(){var _a,_b;return null!==(_b=null===(_a=this.sourcePort)||void 0===_a?void 0:_a.getParent())&&void 0!==_b?_b:null}getInPortNode(){var _a,_b;return null!==(_b=null===(_a=this.targetPort)||void 0===_a?void 0:_a.getParent())&&void 0!==_b?_b:null}}class loose_link_destroyed_action_LooseLinkDestroyed extends BaseAction{constructor(link){super(),this.sourcePort=link.getSourcePort(),this.link=link}getOutPortNode(){var _a,_b;return null!==(_b=null===(_a=this.sourcePort)||void 0===_a?void 0:_a.getParent())&&void 0!==_b?_b:null}}class invalid_link_destroyed_action_InvalidLinkDestroyed extends BaseAction{constructor(link){super(),this.link=link,this.sourcePort=link.getSourcePort()}getOutPortNode(){var _a,_b;return null!==(_b=null===(_a=this.sourcePort)||void 0===_a?void 0:_a.getParent())&&void 0!==_b?_b:null}}class delete_key_pressed_action_DeleteKeyPressedAction extends BaseAction{constructor(diagramEngine,event){super(),this.deletedModels=[];const options=diagramEngine.getDiagramModel().getKeyBindings().delete,keyCodes=(null==options?void 0:options.keyCodes)||[46,8],modifiers=Object.assign({ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},null==options?void 0:options.modifiers),code=Number(event.code);if(-1!==keyCodes.indexOf(code)&&event.ctrlKey===modifiers.ctrlKey&&event.shiftKey===modifiers.shiftKey&&event.altKey===modifiers.altKey&&event.metaKey===modifiers.metaKey){const isNotLocked=item=>!diagramEngine.isModelLocked(item);this.deletedModels=diagramEngine.getDiagramModel().getSelectedItems().filter(isNotLocked)}}}class copy_action_CopyAction extends BaseAction{constructor(diagramEngine){super();this.copiedModels=diagramEngine.getDiagramModel().getSelectedItems().filter(item=>!diagramEngine.isModelLocked(item))}}class paste_action_PasteAction extends BaseAction{constructor(copiedModels){super(),this.clipboardData=copiedModels}}class node_model_NodeModel extends base_model_BaseModel{constructor(options={}){var _a,_b,_c;super(Object.assign({type:"node",logPrefix:"[Node]"},options)),this.ports$=createEntityState([],this.entityPipe("ports")),this.extras$=createValueState(null!==(_a=options.extras)&&void 0!==_a?_a:{},this.entityPipe("extras")),this.coords$=createValueState(null!==(_b=options.coords)&&void 0!==_b?_b:{x:0,y:0},this.entityPipe("coords")),this.dimensions$=createValueState(null!==(_c=options.dimensions)&&void 0!==_c?_c:{width:0,height:0},this.entityPipe("dimensions"))}updatePortCoords(port,engine){if(port.getPainted().isPainted&&this.getParent()){const canvasManager=engine.getCanvasManager(),portSize=canvasManager.getPortCoords(port),portCenter=canvasManager.getPortCenter(port);port.updateCoords(Object.assign(Object.assign({x:0,y:0,width:0,height:0},portSize),portCenter),engine)}}getCoords(){return this.coords$.value}setCoords({x:x,y:y}){const{x:oldX,y:oldY}=this.getCoords();this.getPorts().forEach(port=>{port.getLinks().forEach(link=>{const point=link.getPointForPort(port);if(!point)return;const{x:pointX,y:pointY}=point.getCoords();point.setCoords({x:pointX+x-oldX,y:pointY+y-oldY})})}),this.coords$.set({x:x,y:y})}getSelectedEntities(){let entities=super.getSelectedEntities();const isPoint=point=>!!point;return this.getSelected()&&this.getPorts().forEach(port=>{const points=port.getLinksArray().map(link=>link.getPointForPort(port)).filter(isPoint);entities=entities.concat(points)}),this.log("selectedEntities",entities),entities}coordsChanges(){return this.coords$.value$}selectCoords(){return this.coords$.value$}selectX(){return this.coords$.select(coords=>coords.x)}selectY(){return this.coords$.select(coords=>coords.y)}addPort(port){return port.setParent(this),this.ports$.add(port),port}removePort(portOrId){const portId="string"==typeof portOrId?portOrId:portOrId.id;return this.ports$.remove(portId),portId}getPort(id){return id&&this.ports$.get(id)||void 0}selectPorts(selector){return this.ports$.array$().pipe(this.withLog("selectPorts"))}getPorts(){return this.ports$.value}getPortsArray(){return this.ports$.array()}setDimensions(dimensions){this.dimensions$.set(Object.assign(Object.assign({},this.getDimensions()),dimensions))}getDimensions(){return this.dimensions$.value}dimensionChanges(){return this.dimensions$.select()}getHeight(){return this.getDimensions().height}setHeight(height){return this.setDimensions({height:height})}getWidth(){return this.getDimensions().width}setWidth(width){return this.setDimensions({width:width})}selectWidth(){return this.dimensions$.select(d=>d.width).pipe(this.withLog("selectWidth"))}selectHeight(){return this.dimensions$.select(d=>d.height).pipe(this.withLog("selectHeight"))}setExtras(extras){this.extras$.set(extras)}getExtras(){return this.extras$.value}selectExtras(selector){return this.extras$.select(selector)}destroy(){super.destroy(),this.removeAllPorts()}removeAllPorts(){this.ports$.destroy()}}class diagram_model_DiagramModel extends base_entity_BaseEntity{constructor(options={},diagramEngine){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m;super(Object.assign({type:"diagram",logPrefix:"[Diagram]"},options)),diagramEngine&&(this._diagramEngine=diagramEngine),this.nodes$=createEntityState([],this.entityPipe("nodes")),this.links$=createEntityState([],this.entityPipe("links")),this.offsetX$=createValueState(null!==(_a=options.offsetX)&&void 0!==_a?_a:0,this.entityPipe("offsetX")),this.offsetY$=createValueState(null!==(_b=options.offsetY)&&void 0!==_b?_b:0,this.entityPipe("offsetY")),this.zoom$=createValueState(null!==(_c=options.zoom)&&void 0!==_c?_c:100,this.entityPipe("zoom")),this.maxZoomOut$=createValueState(null!==(_d=options.maxZoomOut)&&void 0!==_d?_d:0,this.entityPipe("maxZoomOut")),this.maxZoomIn$=createValueState(null!==(_e=options.maxZoomIn)&&void 0!==_e?_e:0,this.entityPipe("maxZoomIn")),this.gridSize$=createValueState(null!==(_f=options.gridSize)&&void 0!==_f?_f:0,this.entityPipe("gridSize")),this.allowCanvasZoom$=createValueState(null===(_g=options.allowCanvasZoom)||void 0===_g||_g,this.entityPipe("allowCanvasZoom")),this.allowCanvasTranslation$=createValueState(null===(_h=options.allowCanvasTranslation)||void 0===_h||_h,this.entityPipe("allowCanvasTranslation")),this.inverseZoom$=createValueState(null===(_j=options.inverseZoom)||void 0===_j||_j,this.entityPipe("inverseZoom")),this.allowLooseLinks$=createValueState(null===(_k=options.allowLooseLinks)||void 0===_k||_k,this.entityPipe("allowLooseLinks")),this.portMagneticRadius$=createValueState(null!==(_l=options.portMagneticRadius)&&void 0!==_l?_l:30,this.entityPipe("portMagneticRadius")),this.keyBindings$=createValueState(null!==(_m=options.keyBindings)&&void 0!==_m?_m:{},this.entityPipe("keyBindings"))}set diagramEngine(value){this._diagramEngine=value}get diagramEngine(){return this._diagramEngine}getNodes(){return this.nodes$.value}getNodesArray(){return this.nodes$.array()}getNode(id){return id&&this.nodes$.get(id)||void 0}getLink(id){return id&&this.links$.get(id)||void 0}getLinks(){return this.links$.value}getLinksArray(){return this.links$.array()}getAllPorts(options={}){const result=new Map;return this.getNodes().forEach(node=>{(options.filter?node.getPortsArray().filter(options.filter):node.getPortsArray()).forEach(port=>result.set(port.id,port))}),result}addNode(node){return this.nodes$.add(node),node}deleteNode(nodeOrId){const nodeId="string"==typeof nodeOrId?nodeOrId:nodeOrId.id,node=this.getNode(nodeId);if(node){for(const port of node.getPorts().values())for(const link of port.getLinks().values())this.deleteLink(link);this.nodes$.remove(nodeId)}}selectNodes(){return this.nodes$.value$}addLink(link){return this.links$.add(link),link}deleteLink(linkOrId){const linkId="string"==typeof linkOrId?linkOrId:linkOrId.id;this.links$.remove(linkId)}reset(){this.nodes$.clear(),this.links$.clear()}selectLinks(){return this.links$.value$}setPortMagneticRadius(portMagneticRadius){this.portMagneticRadius$.set(portMagneticRadius)}getPortMagneticRadius(){return this.portMagneticRadius$.value}selectPortMagneticRadius(){return this.portMagneticRadius$.select()}setAllowLooseLinks(allowLooseLinks){this.allowLooseLinks$.set(allowLooseLinks)}getAllowLooseLinks(){return this.allowLooseLinks$.value}selectAllowLooseLinks(){return this.allowLooseLinks$.select()}setInverseZoom(inverseZoom){this.inverseZoom$.set(inverseZoom)}getInverseZoom(){return this.inverseZoom$.value}selectInverseZoom(){return this.inverseZoom$.select()}setKeyBindings(keyBindings){this.keyBindings$.set(keyBindings)}getKeyBindings(){return this.keyBindings$.value}selectKeyBindings(){return this.keyBindings$.select()}setAllowCanvasZoom(allowCanvasZoom){this.allowCanvasZoom$.set(allowCanvasZoom)}getAllowCanvasZoom(){return this.allowCanvasZoom$.value}selectAllowCanvasZoom(){return this.allowCanvasTranslation$.select()}setAllowCanvasTranslation(allowCanvasTranslation){this.allowCanvasTranslation$.set(allowCanvasTranslation)}getAllowCanvasTranslation(){return this.allowCanvasTranslation$.value}selectAllowCanvasTranslation(){return this.allowCanvasTranslation$.select()}setMaxZoomOut(maxZoomOut){this.maxZoomOut$.set(maxZoomOut)}getMaxZoomOut(){return this.maxZoomOut$.value}selectMaxZoomOut(){return this.maxZoomOut$.select()}setMaxZoomIn(maxZoomIn){this.maxZoomIn$.set(maxZoomIn)}getMaxZoomIn(){return this.maxZoomIn$.value}setOffset(x,y){this.offsetX$.set(x),this.offsetY$.set(y)}setOffsetX(x){this.offsetX$.set(x)}getOffsetX(){return this.offsetX$.value}selectOffsetX(){return this.offsetX$.value$}setOffsetY(y){this.offsetY$.set(y)}getOffsetY(){return this.offsetY$.value}selectOffsetY(){return this.offsetY$.value$}setZoomLevel(z){const maxZoomIn=this.getMaxZoomIn(),maxZoomOut=this.getMaxZoomOut();maxZoomIn&&z>maxZoomIn||maxZoomOut&&z<maxZoomOut||this.zoom$.set(z)}getZoomLevel(){return this.zoom$.value}selectZoomLevel(){return this.zoom$.value$}getDiagramEngine(){return this.diagramEngine}clearSelection(ignore=null){this.getSelectedItems().forEach(element=>{(null==ignore?void 0:ignore.id)!==element.id&&element.setSelected(!1)})}getGridPosition({x:x,y:y}){const gridSize=this.gridSize$.value;return 0===gridSize?{x:x,y:y}:{x:gridSize*Math.floor((x+gridSize/2)/gridSize),y:gridSize*Math.floor((y+gridSize/2)/gridSize)}}getSelectedItems(...filters){filters=function coerceArray(value){return isNil(value)?[]:Array.isArray(value)?value:[value]}(filters);const items=[],nodes=this.nodes$.array(),links=this.links$.array(),selectedNodes=()=>nodes.flatMap(node=>node.getSelectedEntities()),selectedPorts=()=>nodes.flatMap(node=>node.getPortsArray().flatMap(port=>port.getSelectedEntities())),selectedLinks=()=>links.flatMap(link=>link.getSelectedEntities()),selectedPoints=()=>links.flatMap(link=>link.getPoints().flatMap(point=>point.getSelectedEntities()));if(isEmptyArray(filters))items.push(...selectedNodes(),...selectedPorts(),...selectedLinks(),...selectedPoints());else{const byType={node:selectedNodes,port:selectedPorts,link:selectedLinks,point:selectedPoints};for(const type of filters)items.push(...byType[type]())}return function unique(arr){return[...new Set(arr)]}(items)}addAll(...models){const links=[],nodes=[];for(const model of models)model instanceof link_model_LinkModel?links.push(model):model instanceof node_model_NodeModel&&nodes.push(model);return this.addLinks(links),this.addNodes(nodes),models}addLinks(links){this.links$.addMany(links)}addNodes(nodes){this.nodes$.addMany(nodes)}destroy(){super.destroy(),this.nodes$.destroy(),this.links$.destroy()}}class port_model_PortModel extends base_model_BaseModel{constructor(options={}){var _a,_b,_c,_d,_e;super(Object.assign({type:"port",logPrefix:"[Port]"},options)),this.coords$=createValueState(null!==(_a=options.coords)&&void 0!==_a?_a:{x:0,y:0},this.entityPipe("coords")),this.maximumLinks$=createValueState(null!==(_b=options.maximumLinks)&&void 0!==_b?_b:null,this.entityPipe("maximumLinks")),this.linkNamespace$=createValueState(null!==(_c=options.linkNamespace)&&void 0!==_c?_c:"default",this.entityPipe("linkName")),this.magnetic$=createValueState(!0,this.entityPipe("magnetic")),this.dimensions$=createValueState(null!==(_d=options.dimensions)&&void 0!==_d?_d:{width:0,height:0},this.entityPipe("dimensions")),this.canCreateLinks$=createValueState(null===(_e=options.canCreateLinks)||void 0===_e||_e,this.entityPipe("canCreateLinks")),this.links$=createEntityState([],this.entityPipe("links"))}link(port){if(this.getCanCreateLinks()){const link=new link_model_LinkModel({namespace:this.getLinkNamespace()});return link.setSourcePort(this),link.setTargetPort(port),link}return null}getNode(){return this.getParent()}getCanCreateLinks(){const numberOfLinks=this.getLinks().size;return!(this.maximumLinks$.value&&numberOfLinks>=this.maximumLinks$.value)&&this.canCreateLinks$.value}selectCoordsAndDimensions(){return Object(combineLatest.b)([this.selectCoords(),this.selectDimensions()]).pipe(Object(map.a)(([coords,dim])=>Object.assign(Object.assign({},coords),dim)))}selectCanCreateLinks(){return this.canCreateLinks$.value$}setCanCreateLinks(value){this.canCreateLinks$.set(value)}getMagnetic(){return this.magnetic$.value}selectMagnetic(){return this.magnetic$.value$}setMagnetic(magnetic){this.magnetic$.set(magnetic)}selectCoords(){return this.coords$.value$}getCoords(){return this.coords$.value}setDimensions(dimensions){return this.dimensions$.set(dimensions)}getDimensions(){return this.dimensions$.value}selectDimensions(){return this.dimensions$.select()}getMaximumLinks(){return this.maximumLinks$.value}setMaximumLinks(maximumLinks){this.maximumLinks$.set(null!=maximumLinks?maximumLinks:null)}getLinkNamespace(){return this.linkNamespace$.value}setLinkNamespace(type){this.linkNamespace$.set(type)}removeLink(linkOrId){if(linkOrId){const linkId=function isString(val){return"string"==typeof val}(linkOrId)?linkOrId:null==linkOrId?void 0:linkOrId.id;this.links$.remove(linkId,!1)}}addLink(link){this.links$.add(link)}getLinks(){return this.links$.value}getLinksArray(){return this.links$.array()}selectLinks(){return this.links$.value$}updateCoords({x:x,y:y,width:width,height:height},engine){this.coords$.set({x:x,y:y}),this.dimensions$.set({width:width,height:height}),engine?this.getLinksArray().forEach(link=>{const relCoords=engine.getCanvasManager().getPortCenter(this),point=link.getPointForPort(this);point&&point.setCoords(Object.assign({},relCoords))}):this.log("Couldn't find DiagramEngine when updating coords. skipping")}canLinkToPort(port){return!0}isLocked(){return super.getLocked()}createLinkModel(){if(this.getCanCreateLinks())return new link_model_LinkModel({parent:this.getParent().getParent(),namespace:this.getLinkNamespace()})}destroy(){super.destroy(),this.links$.clear()}}class label_model_LabelModel extends base_model_BaseModel{constructor(options={}){var _a,_b,_c;super(Object.assign({type:"label"},options)),this.coords$=createValueState(null!==(_a=options.coords)&&void 0!==_a?_a:{x:0,y:0},this.entityPipe("coords")),this.rotation$=createValueState(null!==(_b=options.rotation)&&void 0!==_b?_b:0,this.entityPipe("rotation")),this.text$=createValueState(null!==(_c=options.text)&&void 0!==_c?_c:null,this.entityPipe("text"))}getRotation(){return this.rotation$.value}getCoords(){return this.coords$.value}destroy(){super.destroy()}setRotation(angle){this.rotation$.set(angle)}selectRotation(){return this.rotation$.value$}setCoords(newCoords){this.coords$.set(Object.assign(Object.assign({},this.coords$.value),newCoords))}selectCoords(){return this.coords$.value$}setText(text){this.text$.set(text)}getText(){return this.text$.value}selectText(){return this.text$.value$}}var race=__webpack_require__(325),fromEvent=__webpack_require__(533),merge=__webpack_require__(234),share=__webpack_require__(428),take=__webpack_require__(197);class mouse_manager_MouseManager{constructor(_diagramEngine){this._diagramEngine=_diagramEngine,this.engine=_diagramEngine}get diagramModel(){return this.engine.getDiagramModel()}get canvasManager(){return this.engine.getCanvasManager()}get actionsManager(){return this.engine.getActionsManager()}getElement(event){var _a,_b,_c,_d,_e,_f;const target=event.target;let element=target.closest('[data-type="port"]');const nodeEl=target.closest('[data-type="node"]');return element&&nodeEl?{model:null===(_b=null===(_a=this.diagramModel)||void 0===_a?void 0:_a.getNode(nodeEl.getAttribute("data-id")))||void 0===_b?void 0:_b.getPort(element.getAttribute("data-id")),element:element}:(element=target.closest('[data-type="point"]'),element?{model:null===(_d=null===(_c=this.diagramModel)||void 0===_c?void 0:_c.getLink(element.getAttribute("data-parent-id")))||void 0===_d?void 0:_d.getPointModel(element.getAttribute("data-id")),element:element}:(element=target.closest('[data-type="link"]'),element?{model:null===(_e=this.diagramModel)||void 0===_e?void 0:_e.getLink(element.getAttribute("data-id")),element:element}:(element=target.closest('[data-type="node"]'),element?{model:null===(_f=this.diagramModel)||void 0===_f?void 0:_f.getNode(element.getAttribute("data-id")),element:element}:null)))}onMouseMove(event){var _a;const action=null===(_a=this.actionsManager.getCurrentAction())||void 0===_a?void 0:_a.action;if(null!=action)if(action instanceof selecting_action_SelectingAction){const relative=this.canvasManager.getRelativePoint(event.clientX,event.clientY);this.diagramModel.getNodes().forEach(node=>{const nodeRectPoints=this.canvasManager.getNodeRectPoints(node);nodeRectPoints&&(action.containsElement(nodeRectPoints.topLeft,nodeRectPoints.bottomRight,this.diagramModel)?node.setSelected():node.setSelected(!1))}),this.diagramModel.getLinks().forEach(link=>{let allSelected=!0;link.getPoints().forEach(point=>{const pointPort=point.getParent().getPortForPoint(point),pointCoords=point.getCoords();action.containsElement(pointCoords,pointCoords,this.diagramModel)&&!pointPort?point.setSelected():(point.setSelected(!1),allSelected=!1)}),allSelected&&link.setSelected()}),action.mouseX2=relative.x,action.mouseY2=relative.y,this.actionsManager.fireAction()}else if(action instanceof move_items_action_MoveItemsAction){const coords={x:event.clientX-action.mouseX,y:event.clientY-action.mouseY},zoomLevel=this.diagramModel.getZoomLevel()/100;action.selectionModels.forEach(selectionModel=>{if(selectionModel.magnet=void 0,selectionModel.model instanceof node_model_NodeModel||selectionModel.model instanceof point_model_PointModel&&!selectionModel.model.isConnectedToPort()){const newCoords={x:selectionModel.initialX+coords.x/zoomLevel,y:selectionModel.initialY+coords.y/zoomLevel},gridRelativeCoords=this.diagramModel.getGridPosition(newCoords);if(selectionModel.model instanceof point_model_PointModel&&!isNil(this.diagramModel.getPortMagneticRadius())){const portsMap=this.diagramModel.getAllPorts({filter:p=>p.getMagnetic()});for(const port of portsMap.values()){const portCoords=port.getCoords();if(Math.hypot(portCoords.x-newCoords.x,portCoords.y-newCoords.y)<=this.diagramModel.getPortMagneticRadius()){const portCenter=this.canvasManager.getPortCenter(port);if(!portCenter)return;return selectionModel.model.setCoords(portCenter),void(selectionModel.magnet=port)}}}selectionModel.model.setCoords(gridRelativeCoords),selectionModel.model instanceof node_model_NodeModel&&selectionModel.model.getPorts().forEach(port=>{const portCoords=this.canvasManager.getPortCoords(port);portCoords&&port.updateCoords(portCoords,this.engine)})}else if(selectionModel.model instanceof point_model_PointModel){const newCoords=this.diagramModel.getGridPosition({x:coords.x/zoomLevel,y:coords.y/zoomLevel});selectionModel.model.setCoords({x:selectionModel.initialX+newCoords.x,y:selectionModel.initialY+newCoords.y})}}),this.actionsManager.fireAction()}else action instanceof move_canvas_action_MoveCanvasAction&&this.diagramModel.getAllowCanvasTranslation()&&(this.diagramModel.setOffset(action.initialOffsetX+(event.clientX-action.mouseX),action.initialOffsetY+(event.clientY-action.mouseY)),this.actionsManager.fireAction())}onMouseDown(event){var _a,_b;if(3===event.button)return;const selectedModel=this.getElement(event);if(null===selectedModel)if(event.shiftKey){const relative=this.canvasManager.getRelativePoint(event.clientX,event.clientY),selectionAction=new selecting_action_SelectingAction(relative.x,relative.y);this.actionsManager.startFiringAction(selectionAction)}else this.diagramModel.clearSelection(),this.actionsManager.startFiringAction(new move_canvas_action_MoveCanvasAction(event.clientX,event.clientY,this.diagramModel));else if(selectedModel.model instanceof port_model_PortModel)if(!selectedModel.model.isLocked()&&selectedModel.model.getCanCreateLinks()){const relative=this.canvasManager.getZoomAwareRelativePoint(event),sourcePort=selectedModel.model,link=sourcePort.createLinkModel();link&&(link.setSourcePort(sourcePort),link.removeMiddlePoints(),link.getSourcePort()!==sourcePort&&link.setSourcePort(sourcePort),link.setTargetPort(null),link.getFirstPoint().setCoords(relative),link.getLastPoint().setCoords(relative),this.diagramModel.clearSelection(),link.getLastPoint().setSelected(),this.diagramModel.addLink(link),this.actionsManager.startFiringAction(new move_items_action_MoveItemsAction(event.clientX,event.clientY,this.engine)))}else this.diagramModel.clearSelection();else selectedModel.model instanceof point_model_PointModel&&selectedModel.model.isConnectedToPort()?this.diagramModel.clearSelection():(event.shiftKey||(null===(_a=selectedModel.model)||void 0===_a?void 0:_a.getSelected())||this.diagramModel.clearSelection(),null===(_b=selectedModel.model)||void 0===_b||_b.setSelected(),this.actionsManager.startFiringAction(new move_items_action_MoveItemsAction(event.clientX,event.clientY,this.engine)));this.createMouseListeners()}onMouseUp(event){var _a;const action=null===(_a=this.actionsManager.getCurrentAction())||void 0===_a?void 0:_a.action;if(action instanceof move_items_action_MoveItemsAction){const element=this.getElement(event);action.selectionModels.forEach(model=>{if(!(model&&model.model instanceof point_model_PointModel))return;let el=null;if(model.magnet?el=model.magnet:element&&element.model&&(el=element.model),el instanceof port_model_PortModel&&!this.engine.isModelLocked(el)){const link=model.model.getLink();if(isNil(null==link?void 0:link.getTargetPort())){null==link||link.setTargetPort(el);const targetPort=null==link?void 0:link.getTargetPort(),srcPort=null==link?void 0:link.getSourcePort();(null==targetPort?void 0:targetPort.id)!==(null==srcPort?void 0:srcPort.id)&&(null==srcPort?void 0:srcPort.canLinkToPort(targetPort))&&this.actionsManager.startFiringAction(new links_created_action_LinkCreatedAction(link))}else if((null==link?void 0:link.getTargetPort())!==el&&(null==link?void 0:link.getSourcePort())!==el){const targetPort=null==link?void 0:link.getTargetPort(),newLink=null==link?void 0:link.clone({});null==newLink||newLink.setSourcePort(el),null==newLink||newLink.setTargetPort(targetPort),null==link||link.setTargetPort(el),null==targetPort||targetPort.removeLink(link);const idx=null==link?void 0:link.getPointIndex(model.model);!isNil(idx)&&(null==newLink||newLink.removePointsBefore(null==newLink?void 0:newLink.getPoints()[idx])),null==link||link.removePointsAfter(model.model),this.diagramModel.addLink(newLink)}else link.getTargetPort()===el?link.removePointsAfter(model.model):link.getSourcePort()===el&&link.removePointsBefore(model.model)}model.magnet=void 0}),this.diagramModel.getAllowLooseLinks()||action.selectionModels.forEach(model=>{if(!(model&&model.model instanceof point_model_PointModel))return;const link=model.model.getLink();null!==(null==link?void 0:link.getSourcePort())&&null!==(null==link?void 0:link.getTargetPort())||(this.diagramModel.deleteLink(link),this.actionsManager.startFiringAction(new loose_link_destroyed_action_LooseLinkDestroyed(link)))}),action.selectionModels.forEach(model=>{if(!(model&&model.model instanceof point_model_PointModel))return;const link=model.model.getLink(),sourcePort=null==link?void 0:link.getSourcePort(),targetPort=null==link?void 0:link.getTargetPort();link&&sourcePort&&targetPort&&(sourcePort.canLinkToPort(targetPort)?targetPort.getLinksArray().some(someLink=>link!==someLink&&(someLink.getSourcePort()===sourcePort||someLink.getTargetPort()===sourcePort))&&this.diagramModel.deleteLink(link):(link&&this.diagramModel.deleteLink(link),this.actionsManager.startFiringAction(new invalid_link_destroyed_action_InvalidLinkDestroyed(link))))}),this.actionsManager.stopFiringAction()}else this.actionsManager.stopFiringAction()}onMouseWheel(event){if(!this.diagramModel.getAllowCanvasZoom())return;event.preventDefault(),event.stopPropagation();const currentZoomLevel=this.diagramModel.getZoomLevel(),oldZoomFactor=currentZoomLevel/100;let scrollDelta=this.diagramModel.getInverseZoom()?-event.deltaY:event.deltaY;if(event.ctrlKey&&scrollDelta%1!=0?scrollDelta/=3:scrollDelta/=60,currentZoomLevel+scrollDelta>10){const newZoomLvl=currentZoomLevel+scrollDelta;this.diagramModel.setZoomLevel(newZoomLvl)}const zoomFactor=this.diagramModel.getZoomLevel()/100,boundingRect=event.currentTarget.getBoundingClientRect(),clientWidth=boundingRect.width,clientHeight=boundingRect.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=event.clientX-boundingRect.left,clientY=event.clientY-boundingRect.top,xFactor=(clientX-this.diagramModel.getOffsetX())/oldZoomFactor/clientWidth,yFactor=(clientY-this.diagramModel.getOffsetY())/oldZoomFactor/clientHeight,updatedXOffset=this.diagramModel.getOffsetX()-widthDiff*xFactor,updatedYOffset=this.diagramModel.getOffsetY()-heightDiff*yFactor;this.diagramModel.setOffset(updatedXOffset,updatedYOffset)}createMouseListeners(){const mouseUp$=Object(race.a)([Object(fromEvent.a)(document,"mouseup"),Object(fromEvent.a)(document,"contextmenu")]).pipe(Object(tap.a)(e=>this.onMouseUp(e)),Object(share.a)(),Object(take.a)(1)),mouseMove$=Object(fromEvent.a)(document,"mousemove").pipe(Object(tap.a)(e=>this.onMouseMove(e)),Object(takeUntil.a)(mouseUp$));Object(merge.a)(mouseMove$,mouseUp$).pipe(Object(takeUntil.a)(this.diagramModel.onEntityDestroy())).subscribe()}}class keyboard_manager_KeyboardManager{constructor(_diagramEngine){this.engine=_diagramEngine,this.clipboard$=new BehaviorSubject.a([])}get actionsManager(){return this.engine.getActionsManager()}onKeyUp(event){const deleteKeyPressedAction=new delete_key_pressed_action_DeleteKeyPressedAction(this.engine,event);this.actionsManager.startFiringAction(deleteKeyPressedAction),this.actionsManager.fireAction(),this.actionsManager.stopFiringAction()}onCopy(){const copyAction=new copy_action_CopyAction(this.engine);this.clipboard$.next(copyAction.copiedModels),this.actionsManager.startFiringAction(copyAction),this.actionsManager.fireAction(),this.actionsManager.stopFiringAction()}onPaste(){const pasteAction=new paste_action_PasteAction(this.clipboard$.getValue());this.actionsManager.startFiringAction(pasteAction),this.actionsManager.fireAction(),this.actionsManager.stopFiringAction()}dispose(){this.clipboard$.complete()}}class actions_manager_ActionsManager{constructor(){this.actionsBus$=createValueState(null)}fireAction(){var _a;const action=null===(_a=this.actionsBus$.value)||void 0===_a?void 0:_a.action;if(action)return this.actionsBus$.set({action:action,state:"firing"}),action}stopFiringAction(){var _a;const stoppedAction=null===(_a=this.actionsBus$.value)||void 0===_a?void 0:_a.action;if(stoppedAction)return this.actionsBus$.set({action:stoppedAction,state:"stopped"}),stoppedAction}startFiringAction(action){return this.actionsBus$.set({action:action,state:"started"}),action}observeActions(){return this.actionsBus$.select()}getCurrentAction(){return this.actionsBus$.value}}var filter=__webpack_require__(84),catchError=__webpack_require__(536),switchMapTo=__webpack_require__(541),pluck=__webpack_require__(539);class canvas_manager_CanvasManager{constructor(_diagramEngine,_canvas){this._diagramEngine=_diagramEngine,this._canvas=_canvas,this.canvas$=createValueState(_canvas||null),this.engine=_diagramEngine}getNodeDimensions(node){const nodeElement=this.getModelElement(node);if(!nodeElement)return null;const nodeRect=nodeElement.getBoundingClientRect();return{width:nodeRect.width,height:nodeRect.height}}getRelativePoint(x,y){const canvasRect=this.getCanvas().getBoundingClientRect();return{x:x-canvasRect.left,y:y-canvasRect.top}}getZoomAwareRelativePoint(event){const point=this.getRelativePoint(event.clientX,event.clientY);return{x:(point.x-this.engine.getDiagramModel().getOffsetX())/(this.engine.getDiagramModel().getZoomLevel()/100),y:(point.y-this.engine.getDiagramModel().getOffsetY())/(this.engine.getDiagramModel().getZoomLevel()/100)}}getModelElement(model){const selector=this.getCanvas().querySelector(`[data-type="${model.type}"][data-id="${model.id}"]`);if(null===selector)throw new Error(`Cannot find [${model.type}] element with id [${model.id}]`);return selector}getPortCenter(port){const sourceElement=this.getModelElement(port),diagramModel=this.engine.getDiagramModel();if(!sourceElement||!diagramModel)return null;const sourceRect=sourceElement.getBoundingClientRect(),rel=this.getRelativePoint(sourceRect.left,sourceRect.top);return rel?{x:sourceElement.offsetWidth/2+(rel.x-diagramModel.getOffsetX())/(diagramModel.getZoomLevel()/100),y:sourceElement.offsetHeight/2+(rel.y-diagramModel.getOffsetY())/(diagramModel.getZoomLevel()/100)}:null}setCanvas(canvas){this.canvas$.set(canvas)}getCanvas(){if(!this.canvas$.value)throw new Error("[RxZu] No canvas found, please use `setCanvas` to assign one.");return this.canvas$.value}selectCanvas(){return this.canvas$.select()}setObservers(widget,model){const observers=[],element=this.engine.getFactory().getHTMLElement(widget);if(model instanceof node_model_NodeModel||model instanceof port_model_PortModel){const resizeObserver=new ResizeObserver(entries=>{if((null==entries?void 0:entries.length)>0){const{width:width,height:height}=entries[0].contentRect;if(width&&height&&(model.setDimensions({width:width,height:height}),model instanceof port_model_PortModel)){const coords=this.getPortCoords(model);coords&&model.updateCoords(coords)}}});resizeObserver.observe(element),observers.push(resizeObserver)}return observers}paintNodes(nodesHost,promise=!1){const diagramModel=this.engine.getDiagramModel(),observable=diagramModel.selectNodes().pipe(Object(takeUntil.a)(diagramModel.onEntityDestroy()),Object(switchMap.a)(nodes=>{const nodesPainted$=[];for(const node of nodes.values())node.getPainted().isPainted||(node.setParent(diagramModel),nodesPainted$.push(this.paintModel(node,nodesHost)));return Object(combineLatest.b)(nodesPainted$)}),Object(filter.a)(val=>null!==val),Object(map.a)(()=>!0),Object(catchError.a)(err=>(console.error(err),Object(of.a)(!0))));return promise?observable.toPromise():observable}paintLinks(linksHost,promise=!1){const diagramModel=this.engine.getDiagramModel(),observable=diagramModel.selectLinks().pipe(Object(takeUntil.a)(diagramModel.onEntityDestroy()),Object(switchMap.a)(links=>{const linksPainted$=[];for(const link of Array.from(links.values())){if(link.getPainted().isPainted)continue;const srcPort=link.getSourcePort(),targetPort=link.getTargetPort();if(srcPort){const portCenter=this.getPortCenter(srcPort);portCenter&&link.getPoints()[0].setCoords(portCenter)}if(targetPort){const portCenter=this.getPortCenter(targetPort);portCenter&&link.getPoints()[link.getPoints().length-1].setCoords(portCenter)}linksPainted$.push(this.paintModel(link,linksHost).pipe(Object(switchMapTo.a)(link.selectLabel().pipe(Object(filter.a)(label=>null!=label),Object(switchMap.a)(label=>this.paintLabel(label,linksHost))))))}return Object(combineLatest.b)(linksPainted$).pipe(Object(switchMapTo.a)(Object(of.a)()))}),Object(catchError.a)(err=>(console.error(err),Object(of.a)())));return promise?observable.toPromise():observable}paintLabel(label,host){return this.paintModel(label,host)}paintModel(model,host,promise=!1){const toPromise=obs=>promise?obs.toPromise():obs,factory=this.engine.getFactory(),diagramModel=this.engine.getDiagramModel(),widget=factory.generateWidget({model:model,host:host,diagramModel:diagramModel});if(!widget)return toPromise(Object(of.a)(!0));const element=factory.getHTMLElement(widget);this.setBaseAttributes(element,model),this.subscribeToModelChanges(element,model);const observers=this.setObservers(widget,model);return model.onEntityDestroy().subscribe(()=>{this.engine.getFactory().destroyWidget(widget),observers.forEach(observer=>observer.disconnect())}),toPromise(model.paintChanges().pipe(Object(pluck.a)("isPainted"),Object(take.a)(1)))}subscribeToModelChanges(element,model){model instanceof node_model_NodeModel&&model.selectCoords().pipe(Object(takeUntil.a)(model.onEntityDestroy())).subscribe(({x:x,y:y})=>{element.style.setProperty("left",x+"px"),element.style.setProperty("top",y+"px")})}setBaseAttributes(element,model){var _a;element.setAttribute("data-type",model.type),element.setAttribute("data-id",model.id),element.setAttribute("data-parent-id",null===(_a=model.getParent())||void 0===_a?void 0:_a.id),element.setAttribute("data-namespace",model.namespace)}shouldDrawSelectionBox(){const actions=this.engine.getActionsManager().getCurrentAction();return actions instanceof selecting_action_SelectingAction&&actions.getBoxDimensions()}getPortCoords(port){const sourceElement=this.getModelElement(port),canvas=this.getCanvas(),diagramModel=this.engine.getDiagramModel();if(!sourceElement||!canvas||!diagramModel)return null;const sourceRect=sourceElement.getBoundingClientRect(),canvasRect=canvas.getBoundingClientRect();return{x:(sourceRect.x-diagramModel.getOffsetX())/(diagramModel.getZoomLevel()/100)-canvasRect.left,y:(sourceRect.y-diagramModel.getOffsetY())/(diagramModel.getZoomLevel()/100)-canvasRect.top,width:sourceRect.width,height:sourceRect.height}}getNodeCoords(node){const sourceElement=this.getModelElement(node),canvas=this.getCanvas(),diagramModel=this.engine.getDiagramModel();if(!sourceElement||!canvas||!diagramModel)return null;const sourceRect=sourceElement.getBoundingClientRect(),canvasRect=canvas.getBoundingClientRect();return{x:(sourceRect.x-diagramModel.getOffsetX())/(diagramModel.getZoomLevel()/100)-canvasRect.left,y:(sourceRect.y-diagramModel.getOffsetY())/(diagramModel.getZoomLevel()/100)-canvasRect.top,width:sourceRect.width,height:sourceRect.height}}getNodeCenter(node){const sourceElement=this.getModelElement(node),diagramModel=this.engine.getDiagramModel();if(!sourceElement||!diagramModel)return null;const sourceRect=sourceElement.getBoundingClientRect(),rel=this.getRelativePoint(sourceRect.left,sourceRect.top);return rel?{x:sourceElement.offsetWidth/2+(rel.x-diagramModel.getOffsetX())/(diagramModel.getZoomLevel()/100),y:sourceElement.offsetHeight/2+(rel.y-diagramModel.getOffsetY())/(diagramModel.getZoomLevel()/100)}:null}getNodeRectPoints(node){if(!node)return void console.warn("[RxZu] No input node were found");const width=node.getWidth(),height=node.getHeight(),{x:x,y:y}=node.getCoords();return{topLeft:{x:x,y:y},topRight:{x:x+width,y:y},bottomLeft:{x:x,y:y+height},bottomRight:{x:x+width,y:y+height}}}getNodeLayersRect(nodes,margin=0){if(!nodes||0===nodes.length)return console.warn("[RxZu] No input nodes were found"),{width:0,height:0,top:0,left:0};const firstNode=nodes[0],{x:firstNodeXCoords,y:firstNodeYCoords}=firstNode.getCoords();let rightNodeWidth=firstNode.getWidth(),bottomNodeHeight=firstNode.getHeight(),minX=firstNodeXCoords,maxX=firstNodeXCoords,minY=firstNodeYCoords,maxY=firstNodeYCoords;return nodes.forEach(node=>{const{x:x,y:y}=node.getCoords(),nodeElement=this.getModelElement(node),{clientWidth:clientWidth,clientHeight:clientHeight}=nodeElement;x<minX&&(minX=x),y<minY&&(minY=y),x+clientWidth>maxX+rightNodeWidth&&(maxX=x,rightNodeWidth=clientWidth),y+clientHeight>maxY+bottomNodeHeight&&(maxY=y,bottomNodeHeight=clientHeight)}),{width:maxX-minX+rightNodeWidth+2*margin,height:maxY-minY+bottomNodeHeight+2*margin,top:minY-margin,left:minX-margin}}}var dagre=__webpack_require__(434);let dagre_engine_plugin_DagrePlugin=class DagrePlugin{instantiate(){try{this.g=new dagre.graphlib.Graph({multigraph:!0})}catch(error){console.warn("`dagre` packages isn't installed, please install it before using the DagreEngine plugin")}}redistribute(model,options={}){this.instantiate(),this.g.setGraph(options.graph||{}),this.g.setDefaultEdgeLabel(()=>({}));const processedlinks={};model.getNodes().forEach(node=>{this.g.setNode(node.id,{width:node.getWidth(),height:node.getHeight()})}),model.getLinks().forEach(link=>{var _a,_b,_c,_d;if(link.getSourcePort()&&link.getTargetPort()){processedlinks[link.id]=!0;const v=null===(_b=null===(_a=link.getSourcePort())||void 0===_a?void 0:_a.getNode())||void 0===_b?void 0:_b.id,w=null===(_d=null===(_c=link.getTargetPort())||void 0===_c?void 0:_c.getNode())||void 0===_d?void 0:_d.id;v&&w&&this.g.setEdge({v:v,w:w,name:link.id})}}),Object(dagre.layout)(this.g,options.layout),this.g.nodes().forEach(v=>{var _a;const{x:x,y:y,width:width,height:height}=this.g.node(v);null===(_a=model.getNode(v))||void 0===_a||_a.setCoords({x:x-width/2,y:y-height/2})}),options.includeLinks&&this.g.edges().forEach(e=>{const edge=this.g.edge(e),link=model.getLink(e.name);if(link){const points=[null==link?void 0:link.getFirstPoint()];for(let i=1;i<edge.points.length-2;i++)points.push(new point_model_PointModel({parent:link,coords:{x:edge.points[i].x,y:edge.points[i].y}}));null==link||link.setPoints(points.concat(null==link?void 0:link.getLastPoint()))}})}};dagre_engine_plugin_DagrePlugin=Object(tslib_es6.a)([Object(core.Injectable)()],dagre_engine_plugin_DagrePlugin);var template_var_directive_a,template_var_directive_b,delay=__webpack_require__(537);function OutsideZone(targetClass,functionName,descriptor){const source=descriptor.value;return descriptor.value=function(...data){if(!this.ngZone)throw new Error("Class with 'OutsideZone' decorator should have 'ngZone' class property with 'NgZone' class.");return this.ngZone.runOutsideAngular(()=>source.call(this,...data))},descriptor}class TemplateVarContext{}let TemplateVarDirective=class TemplateVarDirective{constructor(vcRef,templateRef){this.vcRef=vcRef,this.templateRef=templateRef,this.view=null,this.context=new TemplateVarContext}set templateVar(context){this.context.$implicit=this.context.templateVar=context,this.updateView()}updateView(){this.view?this.view.markForCheck():(this.vcRef.clear(),this.view=this.vcRef.createEmbeddedView(this.templateRef,this.context))}};var RegistryService_1;Object(tslib_es6.a)([Object(core.Input)(),Object(tslib_es6.b)("design:type",Object),Object(tslib_es6.b)("design:paramtypes",[Object])],TemplateVarDirective.prototype,"templateVar",null),TemplateVarDirective=Object(tslib_es6.a)([Object(core.Directive)({selector:"[templateVar]"}),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(template_var_directive_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?template_var_directive_a:Object,"function"==typeof(template_var_directive_b=void 0!==core.TemplateRef&&core.TemplateRef)?template_var_directive_b:Object])],TemplateVarDirective);let registry_service_RegistryService=RegistryService_1=class RegistryService extends class AbstractRegistry{constructor(parent){this._registry=new Map,this._parent=parent}get(key){var _a;return this._registry.get(key)||(null===(_a=this._parent)||void 0===_a?void 0:_a.get(key))}has(key){var _a;return this._registry.has(key)||!!(null===(_a=this._parent)||void 0===_a?void 0:_a.has(key))}set(key,component){this._registry.set(key,component)}clear(){this._registry.clear()}delete(key){this._registry.delete(key)}}{constructor(parent){super(parent)}};registry_service_RegistryService=RegistryService_1=Object(tslib_es6.a)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.c)(0,Object(core.Optional)()),Object(tslib_es6.c)(0,Object(core.SkipSelf)()),Object(tslib_es6.c)(0,Object(core.Inject)(RegistryService_1)),Object(tslib_es6.b)("design:paramtypes",[Object])],registry_service_RegistryService);const MODEL=new core.InjectionToken("MODEL"),COMPONENT=new core.InjectionToken("COMPONENT"),DIAGRAM_DEFAULT_OPTIONS=new core.InjectionToken("DIAGRAM_DEFAULT_OPTIONS",{providedIn:"root",factory:function(){return{allowCanvasZoom:!0,allowCanvasTranslation:!0,inverseZoom:!0,allowLooseLinks:!0,maxZoomOut:0,maxZoomIn:0,portMagneticRadius:30}}});var factory_service_a,factory_service_b;let factory_service_FactoryService=class FactoryService extends class base_factory_AbstractFactory{constructor(registry){this._registry=registry,this._beforeGenerate$=new Subject.a,this._afterGenerate$=new Subject.a}detectChanges(widget){Object(noop.a)()}beforeGenerate(){return this._beforeGenerate$.asObservable()}afterGenerate(){return this._afterGenerate$.asObservable()}has(model){return this._registry.has(toRegistryKey(model.type,model.namespace))}generateWidget(options){if(!this.resolveComponent)throw new Error("resolveComponent is not implemented");if(options.model.getPainted().isPainted)return null;this._beforeGenerate$.next();const widget=this.resolveComponent(options);return this._afterGenerate$.next(widget),this.detectChanges(widget),widget}get(model){return this._registry.get(toRegistryKey(model.type,model.namespace))}}{constructor(registry,cfr){super(registry),this.cfr=cfr}getHTMLElement(widget){return widget.location.nativeElement}destroyWidget(widget){widget.destroy()}detectChanges(widget){widget.changeDetectorRef.detectChanges()}resolveComponent({model:model,host:host,index:index,diagramModel:diagramModel}){const cmp=this.get(model);if(!cmp)throw new Error("[RxZu] Couldn't find component for "+toRegistryKey(model.type,model.namespace));const injector=core.Injector.create({providers:[{provide:MODEL,useValue:model}],parent:host.injector});return host.createComponent(this.cfr.resolveComponentFactory(cmp),index,injector)}};var engine_service_a,engine_service_b,engine_service_c;factory_service_FactoryService=Object(tslib_es6.a)([Object(core.Injectable)(),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(factory_service_a=void 0!==registry_service_RegistryService&&registry_service_RegistryService)?factory_service_a:Object,"function"==typeof(factory_service_b=void 0!==core.ComponentFactoryResolver&&core.ComponentFactoryResolver)?factory_service_b:Object])],factory_service_FactoryService);let engine_service_EngineService=class EngineService extends class engine_core_DiagramEngine{constructor(factory,_canvas,_mouseManager,_keyboardManager,_actionsManager,_canvasManager){this.factory=factory,this._canvas=_canvas,this._mouseManager=_mouseManager,this._keyboardManager=_keyboardManager,this._actionsManager=_actionsManager,this._canvasManager=_canvasManager,this.actionsManager=_actionsManager||this.createActionsManager(),this.mouseManager=_mouseManager||this.createMouseManager(),this.keyboardManager=_keyboardManager||this.createKeyboardManager(),this.canvasManager=_canvasManager||this.createCanvasManager(_canvas)}setup({maxZoomIn:maxZoomIn,maxZoomOut:maxZoomOut,portMagneticRadius:portMagneticRadius,allowLooseLinks:allowLooseLinks,allowCanvasZoom:allowCanvasZoom,allowCanvasTranslation:allowCanvasTranslation,inverseZoom:inverseZoom,keyBindings:keyBindings}){const diagramModel=this.getDiagramModel();diagramModel.setAllowCanvasZoom(null==allowCanvasZoom||allowCanvasZoom),diagramModel.setAllowCanvasTranslation(null==allowCanvasTranslation||allowCanvasTranslation),diagramModel.setInverseZoom(null!=inverseZoom&&inverseZoom),diagramModel.setAllowLooseLinks(null==allowLooseLinks||allowLooseLinks),diagramModel.setPortMagneticRadius(null!=portMagneticRadius?portMagneticRadius:30),diagramModel.setMaxZoomIn(null!=maxZoomIn?maxZoomIn:0),diagramModel.setMaxZoomOut(null!=maxZoomOut?maxZoomOut:0),diagramModel.setKeyBindings(null!=keyBindings?keyBindings:{})}createMouseManager(){return this.mouseManager?(console.warn("[RxZu] Mouse Manager already initialized, bailing out."),this.mouseManager):new mouse_manager_MouseManager(this)}createCanvasManager(canvas){return this.canvasManager?(console.warn("[RxZu] Mouse Manager already initialized, bailing out."),this.canvasManager):new canvas_manager_CanvasManager(this,canvas)}createActionsManager(){return this.actionsManager?(console.warn("[RxZu] Actions Manager already initialized, bailing out."),this.actionsManager):new actions_manager_ActionsManager}createKeyboardManager(){return this.keyboardManager?(console.warn("[RxZu] Keyboard Manager already initialized, bailing out."),this.keyboardManager):new keyboard_manager_KeyboardManager(this)}setModel(model){if(this.diagramModel)throw new Error("diagram model already exists, please reset model prior to creating new diagram");return this.diagramModel=model,this.diagramModel.diagramEngine=this,this.diagramModel.onEntityDestroy().subscribe(()=>{this.diagramModel=void 0}),model}createModel(options){if(this.diagramModel)throw new Error("diagram model already exists, please reset model prior to creating new diagram");return this.diagramModel=new diagram_model_DiagramModel(options,this),this.diagramModel.onEntityDestroy().subscribe(()=>{this.diagramModel=void 0}),this.diagramModel}getMouseManager(){return this.mouseManager}getActionsManager(){return this.actionsManager}getKeyboardManager(){return this.keyboardManager}getCanvasManager(){return this.canvasManager}getDiagramModel(){if(!this.diagramModel)throw new Error("[RxZu] No model found, please create one and assign it to the engine.");return this.diagramModel}getFactory(){return this.factory}isModelLocked(model){return!!this.getDiagramModel().getLocked()||model.getLocked()}zoomToFit(margin=100){const diagramModel=this.getDiagramModel();if(diagramModel){const allNodes=diagramModel.getNodesArray();(null==allNodes?void 0:allNodes.length)>0&&this.zoomToNodes(allNodes,margin)}}zoomToNodes(nodes,margin=100){if(!nodes||0===nodes.length)return void console.warn("[RxZu] No input nodes were found");const diagramModel=this.getDiagramModel();diagramModel&&this.canvasManager.selectCanvas().pipe(Object(filter.a)(canvas=>null!=canvas),Object(take.a)(1),Object(delay.a)(0)).subscribe(canvas=>{const nodesLayersRect=this.canvasManager.getNodeLayersRect(nodes,margin),xFactor=canvas.clientWidth/(null==nodesLayersRect?void 0:nodesLayersRect.width),yFactor=canvas.clientHeight/nodesLayersRect.height,zoomFactor=Math.min(xFactor,yFactor);diagramModel.setZoomLevel(100*zoomFactor);const canvasRect=canvas.getBoundingClientRect(),canvasRelativeTopLeftPoint_top=diagramModel.getOffsetY()+canvasRect.top,canvasRelativeTopLeftPoint_left=diagramModel.getOffsetX()+canvasRect.left,nodesRectTopLeftPoint_top=canvasRelativeTopLeftPoint_top+nodesLayersRect.top*zoomFactor,nodesRectTopLeftPoint_left=canvasRelativeTopLeftPoint_left+nodesLayersRect.left*zoomFactor;diagramModel.setOffset(canvasRelativeTopLeftPoint_left-nodesRectTopLeftPoint_left,canvasRelativeTopLeftPoint_top-nodesRectTopLeftPoint_top)})}}{constructor(resolver,rendererFactory,factory){super(factory),this.resolver=resolver,this.rendererFactory=rendererFactory,this.factory=factory,this._renderer=this.rendererFactory.createRenderer(null,null)}};var diagram_component_a,diagram_component_b,diagram_component_c,diagram_component_d,diagram_component_e,diagram_component_f,diagram_component_g,diagram_component_h,diagram_component_j,diagram_component_k,diagram_component_l,diagram_component_m,_o,_p,_q,_r,_s;engine_service_EngineService=Object(tslib_es6.a)([Object(core.Injectable)(),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(engine_service_a=void 0!==core.ComponentFactoryResolver&&core.ComponentFactoryResolver)?engine_service_a:Object,"function"==typeof(engine_service_b=void 0!==core.RendererFactory2&&core.RendererFactory2)?engine_service_b:Object,"function"==typeof(engine_service_c=void 0!==factory_service_FactoryService&&factory_service_FactoryService)?engine_service_c:Object])],engine_service_EngineService);let diagram_component_RxZuDiagramComponent=class RxZuDiagramComponent{constructor(diagramEngine,ngZone,renderer,cdRef,elRef,defaultOptions){this.diagramEngine=diagramEngine,this.ngZone=ngZone,this.renderer=renderer,this.cdRef=cdRef,this.elRef=elRef,this.defaultOptions=defaultOptions,this.mouseManager=this.diagramEngine.getMouseManager(),this.keyboardManager=this.diagramEngine.getKeyboardManager(),this.canvasManager=this.diagramEngine.getCanvasManager(),this.actionsManager=this.diagramEngine.getActionsManager()}get host(){return this.elRef.nativeElement}ngOnInit(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.model=this.model&&this.diagramEngine.setModel(this.model)||this.diagramEngine.createModel(Object.assign({namespace:this.name||"default"},this.options)),this.canvas&&(this.canvasManager.setCanvas(this.canvas.nativeElement),this.diagramEngine.setup(Object.assign({},this.options)),this.initNodes(),this.initSelectionBox(),this.initSubs())}ngOnDestroy(){this.keyboardManager&&this.keyboardManager.dispose(),this.model.destroy()}zoomToFit(additionalZoomFactor){this.diagramEngine.zoomToFit(additionalZoomFactor)}zoomToNodes(nodes,margin=100){this.diagramEngine.zoomToNodes(nodes,margin)}initNodes(){this.canvasManager.paintNodes(this.nodesLayer).pipe(Object(takeUntil.a)(this.model.onEntityDestroy()),Object(switchMap.a)(()=>this.diagramEngine?this.canvasManager.paintLinks(this.linksLayer):Object(of.a)(null))).subscribe()}initSelectionBox(){this.diagramEngine&&(this.selectionBox$=this.actionsManager.observeActions().pipe(Object(map.a)(a=>a&&a.action&&a.action instanceof selecting_action_SelectingAction&&"firing"===a.state?a.action:null),Object(tap.a)(()=>this.cdRef.detectChanges())))}onMouseUp(event){this.mouseManager?this.mouseManager.onMouseUp(event):Object(noop.a)()}onKeyUp(event){this.keyboardManager?this.keyboardManager.onKeyUp(event):Object(noop.a)()}onCopy(event){this.keyboardManager?this.keyboardManager.onCopy():Object(noop.a)()}onPaste(event){this.keyboardManager?this.keyboardManager.onPaste():Object(noop.a)()}onMouseMove(event){this.mouseManager?this.mouseManager.onMouseMove(event):Object(noop.a)()}onMouseDown(event){this.mouseManager?this.mouseManager.onMouseDown(event):Object(noop.a)()}onMouseWheel(event){this.mouseManager?this.mouseManager.onMouseWheel(event):Object(noop.a)()}setLayerStyles(x,y,zoom){const nodesLayer=this.getNodesLayer(),linksLayer=this.getLinksLayer(),value=`translate(${x}px, ${y}px) scale(${zoom/100})`;this.renderer.setStyle(nodesLayer,"transform",value),this.renderer.setStyle(linksLayer,"transform",value)}initSubs(){var _a;const diagramModel=null===(_a=this.diagramEngine)||void 0===_a?void 0:_a.getDiagramModel();diagramModel&&Object(combineLatest.b)([diagramModel.selectOffsetX(),diagramModel.selectOffsetY(),diagramModel.selectZoomLevel()]).pipe(Object(takeUntil.a)(this.model.onEntityDestroy()),Object(tap.a)(([x,y,zoom])=>this.setLayerStyles(x,y,zoom))).subscribe()}getNodesLayer(){var _a;return this.host?null===(_a=this.nodesLayer)||void 0===_a?void 0:_a.element.nativeElement.parentElement:null}getLinksLayer(){var _a;return this.host?null===(_a=this.linksLayer)||void 0===_a?void 0:_a.element.nativeElement.parentElement:null}};Object(tslib_es6.a)([Object(core.Input)(),Object(tslib_es6.b)("design:type",String)],diagram_component_RxZuDiagramComponent.prototype,"name",void 0),Object(tslib_es6.a)([Object(core.Input)(),Object(tslib_es6.b)("design:type","function"==typeof(diagram_component_a=void 0!==diagram_model_DiagramModel&&diagram_model_DiagramModel)?diagram_component_a:Object)],diagram_component_RxZuDiagramComponent.prototype,"model",void 0),Object(tslib_es6.a)([Object(core.Input)(),Object(tslib_es6.b)("design:type","function"==typeof(diagram_component_b="undefined"!=typeof Partial&&Partial)?diagram_component_b:Object)],diagram_component_RxZuDiagramComponent.prototype,"options",void 0),Object(tslib_es6.a)([Object(core.ViewChild)("nodesLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(diagram_component_c=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?diagram_component_c:Object)],diagram_component_RxZuDiagramComponent.prototype,"nodesLayer",void 0),Object(tslib_es6.a)([Object(core.ViewChild)("linksLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(diagram_component_d=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?diagram_component_d:Object)],diagram_component_RxZuDiagramComponent.prototype,"linksLayer",void 0),Object(tslib_es6.a)([Object(core.ViewChild)("canvas",{read:core.ElementRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(diagram_component_e=void 0!==core.ElementRef&&core.ElementRef)?diagram_component_e:Object)],diagram_component_RxZuDiagramComponent.prototype,"canvas",void 0),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_f="undefined"!=typeof MouseEvent&&MouseEvent)?diagram_component_f:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onMouseUp",null),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_g="undefined"!=typeof KeyboardEvent&&KeyboardEvent)?diagram_component_g:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onKeyUp",null),Object(tslib_es6.a)([Object(core.HostListener)("window:copy",["$event"]),Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_h="undefined"!=typeof ClipboardEvent&&ClipboardEvent)?diagram_component_h:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onCopy",null),Object(tslib_es6.a)([Object(core.HostListener)("window:paste",["$event"]),Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_j="undefined"!=typeof ClipboardEvent&&ClipboardEvent)?diagram_component_j:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onPaste",null),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_k="undefined"!=typeof MouseEvent&&MouseEvent)?diagram_component_k:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onMouseMove",null),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_l="undefined"!=typeof MouseEvent&&MouseEvent)?diagram_component_l:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onMouseDown",null),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(diagram_component_m="undefined"!=typeof WheelEvent&&WheelEvent)?diagram_component_m:Object]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"onMouseWheel",null),Object(tslib_es6.a)([OutsideZone,Object(tslib_es6.b)("design:type",Function),Object(tslib_es6.b)("design:paramtypes",[Number,Number,Number]),Object(tslib_es6.b)("design:returntype",void 0)],diagram_component_RxZuDiagramComponent.prototype,"setLayerStyles",null),diagram_component_RxZuDiagramComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-diagram",exportAs:"RxzuDiagram",template:(__webpack_require__(292).default||__webpack_require__(292)).length?__webpack_require__(292).default||__webpack_require__(292):"",styles:[(__webpack_require__(293).default||__webpack_require__(293)).length?__webpack_require__(293).default||__webpack_require__(293):""],providers:[engine_service_EngineService,registry_service_RegistryService,factory_service_FactoryService],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(5,Object(core.Inject)(DIAGRAM_DEFAULT_OPTIONS)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(_o=void 0!==engine_service_EngineService&&engine_service_EngineService)?_o:Object,"function"==typeof(_p=void 0!==core.NgZone&&core.NgZone)?_p:Object,"function"==typeof(_q=void 0!==core.Renderer2&&core.Renderer2)?_q:Object,"function"==typeof(_r=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_r:Object,"function"==typeof(_s=void 0!==core.ElementRef&&core.ElementRef)?_s:Object,"function"!=typeof!1&&Object])],diagram_component_RxZuDiagramComponent);var RxZuModule_1,main_module_a,common=__webpack_require__(14);let main_module_RxZuModule=RxZuModule_1=class RxZuModule{constructor(registry,components){null==components||components.forEach(({type:type,namespace:name,component:component})=>registry.set(toRegistryKey(type,name),component))}static registerComponent({type:type,namespace:namespace,component:component}){return{provide:COMPONENT,multi:!0,useValue:{type:type,namespace:namespace,component:component}}}static withComponents(components){return{ngModule:RxZuModule_1,providers:[...[].concat(components||[]).map(RxZuModule_1.registerComponent)]}}};var default_label_component_a,default_label_component_b;main_module_RxZuModule=RxZuModule_1=Object(tslib_es6.a)([Object(core.NgModule)({declarations:[diagram_component_RxZuDiagramComponent,TemplateVarDirective],imports:[common.a],exports:[diagram_component_RxZuDiagramComponent]}),Object(tslib_es6.c)(1,Object(core.Inject)(COMPONENT)),Object(tslib_es6.c)(1,Object(core.Optional)()),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(main_module_a=void 0!==registry_service_RegistryService&&registry_service_RegistryService)?main_module_a:Object,Array])],main_module_RxZuModule);let DefaultLabelComponent=class DefaultLabelComponent{constructor(model,cdRef){this.model=model,this.cdRef=cdRef}ngOnInit(){this.model.selectCoords().subscribe(()=>{this.cdRef.detectChanges()}),this.model.setPainted(!0)}};var default_link_component_a,default_link_component_b,default_link_component_c;DefaultLabelComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-default-label",template:(__webpack_require__(294).default||__webpack_require__(294)).length?__webpack_require__(294).default||__webpack_require__(294):"",styles:[(__webpack_require__(295).default||__webpack_require__(295)).length?__webpack_require__(295).default||__webpack_require__(295):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(MODEL)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(default_label_component_a=void 0!==label_model_LabelModel&&label_model_LabelModel)?default_label_component_a:Object,"function"==typeof(default_label_component_b=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?default_label_component_b:Object])],DefaultLabelComponent);let default_link_component_DefaultLinkComponent=class DefaultLinkComponent{constructor(model,cdRef){this.model=model,this.cdRef=cdRef}ngOnInit(){this.model.setPainted(!0)}trackByPoints(i,point){return point.id}onHover(){this.cdRef.detectChanges()}ngAfterViewInit(){const firstPCoords$=this.model.getFirstPoint().selectCoords(),lastPCoords$=this.model.getLastPoint().selectCoords();Object(combineLatest.b)([firstPCoords$,lastPCoords$]).pipe(Object(takeUntil.a)(this.model.onEntityDestroy())).subscribe(([firstPCoords,lastPCoords])=>{const points=[firstPCoords,lastPCoords],xOrY=Math.abs(firstPCoords.x-lastPCoords.x)>Math.abs(firstPCoords.y-lastPCoords.y)?"x":"y";let isStraight=!1;Math.abs(points[0][xOrY]-points[1][xOrY])<50&&(isStraight=!0);const path=function generateCurvePath(firstPoint,lastPoint,curvy=0){const isHorizontal=Math.abs(firstPoint.x-lastPoint.x)>Math.abs(firstPoint.y-lastPoint.y),curvyX=isHorizontal?curvy:0,curvyY=isHorizontal?0:curvy;return`M${firstPoint.x},${firstPoint.y} C ${firstPoint.x+curvyX},${firstPoint.y+curvyY}\n    ${lastPoint.x-curvyX},${lastPoint.y-curvyY} ${lastPoint.x},${lastPoint.y}`}(firstPCoords,lastPCoords,isStraight?0:50);this.model.setPath(path);const label=this.model.getLabel();label&&label.setCoords(this.calcCenterOfPath(firstPCoords,lastPCoords)),this.cdRef.detectChanges()})}calcLabelIncline(firstPoint,secondPoint){const dy=secondPoint.y-firstPoint.y,dx=secondPoint.x-firstPoint.x;if(0===dx)return 0;let inclineAngel=180*Math.atan(dy/dx)/Math.PI;return inclineAngel<0&&(inclineAngel+=180),inclineAngel}calcCenterOfPath(firstPoint,secondPoint){return{x:(firstPoint.x+secondPoint.x)/2+20,y:(firstPoint.y+secondPoint.y)/2+20}}};Object(tslib_es6.a)([Object(core.ViewChild)("labelLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(default_link_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?default_link_component_a:Object)],default_link_component_DefaultLinkComponent.prototype,"labelLayer",void 0),default_link_component_DefaultLinkComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-default-link",template:(__webpack_require__(296).default||__webpack_require__(296)).length?__webpack_require__(296).default||__webpack_require__(296):"",styles:[(__webpack_require__(297).default||__webpack_require__(297)).length?__webpack_require__(297).default||__webpack_require__(297):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(MODEL)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(default_link_component_b=void 0!==link_model_LinkModel&&link_model_LinkModel)?default_link_component_b:Object,"function"==typeof(default_link_component_c=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?default_link_component_c:Object])],default_link_component_DefaultLinkComponent);var default_node_component_a,default_node_component_b,default_node_component_c,default_node_component_d,default_node_component_e,mapTo=__webpack_require__(538);let default_node_component_DefaultNodeComponent=class DefaultNodeComponent{constructor(model,engine,diagram,iterableDiffers){this.model=model,this.engine=engine,this.diagram=diagram,this.iterableDiffers=iterableDiffers,this.portDiffers=this.iterableDiffers.find([]).create((index,item)=>item.id)}ngOnInit(){this.updatePorts()}getPortsHost(){return this.portsLayer}updatePorts(){this.model.selectPorts().pipe(Object(takeUntil.a)(this.model.onEntityDestroy()),Object(filter.a)(ports=>null!=ports),Object(tap.a)(ports=>this.applyPortChanges(this.portDiffers.diff(ports))),Object(switchMap.a)(ports=>Object(combineLatest.b)(ports.map(port=>port.paintChanges().pipe(Object(pluck.a)("isPainted"),Object(filter.a)(Boolean),Object(take.a)(1))))),Object(filter.a)(val=>null!==val),Object(mapTo.a)(!0)).subscribe(()=>!this.model.getPainted().isPainted&&this.model.setPainted(!0))}applyPortChanges(changes){if(changes){const canvasManager=this.engine.getCanvasManager();changes.forEachAddedItem(({item:item})=>{canvasManager.paintModel(item,this.getPortsHost()),item.setParent(this.model),this.model.updatePortCoords(item,this.diagram.diagramEngine)}),changes.forEachMovedItem(({item:item})=>{this.model.updatePortCoords(item,this.diagram.diagramEngine)})}}};var default_port_component_a;Object(tslib_es6.a)([Object(core.ViewChild)("portsLayer",{read:core.ViewContainerRef,static:!0}),Object(tslib_es6.b)("design:type","function"==typeof(default_node_component_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?default_node_component_a:Object)],default_node_component_DefaultNodeComponent.prototype,"portsLayer",void 0),default_node_component_DefaultNodeComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-default-node",template:(__webpack_require__(298).default||__webpack_require__(298)).length?__webpack_require__(298).default||__webpack_require__(298):"",styles:[(__webpack_require__(299).default||__webpack_require__(299)).length?__webpack_require__(299).default||__webpack_require__(299):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(MODEL)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(default_node_component_b=void 0!==node_model_NodeModel&&node_model_NodeModel)?default_node_component_b:Object,"function"==typeof(default_node_component_c=void 0!==engine_service_EngineService&&engine_service_EngineService)?default_node_component_c:Object,"function"==typeof(default_node_component_d=void 0!==diagram_component_RxZuDiagramComponent&&diagram_component_RxZuDiagramComponent)?default_node_component_d:Object,"function"==typeof(default_node_component_e=void 0!==core.IterableDiffers&&core.IterableDiffers)?default_node_component_e:Object])],default_node_component_DefaultNodeComponent);let DefaultPortComponent=class DefaultPortComponent{constructor(model){this.model=model}ngOnInit(){this.model.setPainted(!0)}};DefaultPortComponent=Object(tslib_es6.a)([Object(core.Component)({selector:"rxzu-default-port",template:(__webpack_require__(300).default||__webpack_require__(300)).length?__webpack_require__(300).default||__webpack_require__(300):"",styles:[(__webpack_require__(301).default||__webpack_require__(301)).length?__webpack_require__(301).default||__webpack_require__(301):""],changeDetection:core.ChangeDetectionStrategy.OnPush}),Object(tslib_es6.c)(0,Object(core.Host)()),Object(tslib_es6.c)(0,Object(core.Inject)(MODEL)),Object(tslib_es6.b)("design:paramtypes",["function"==typeof(default_port_component_a=void 0!==port_model_PortModel&&port_model_PortModel)?default_port_component_a:Object])],DefaultPortComponent);const DEFAULTS=[{type:"node",component:default_node_component_DefaultNodeComponent},{type:"port",component:DefaultPortComponent},{type:"link",component:default_link_component_DefaultLinkComponent},{type:"label",component:DefaultLabelComponent}],COMPONENTS=[default_link_component_DefaultLinkComponent,DefaultLabelComponent,DefaultPortComponent,default_node_component_DefaultNodeComponent];let RxZuDefaultsModule=class RxZuDefaultsModule{};RxZuDefaultsModule=Object(tslib_es6.a)([Object(core.NgModule)({declarations:[...COMPONENTS],imports:[common.a,main_module_RxZuModule.withComponents(DEFAULTS)],entryComponents:[...COMPONENTS],exports:[...COMPONENTS,main_module_RxZuModule]})],RxZuDefaultsModule)},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".demo-diagram {\n  display: flex;\n  height: 100%;\n  min-height: 100vh;\n  background-color: #3c3c3c;\n  background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);\n  background-size: 50px 50px;\n}\n\n.action-bar {\n  position: fixed;\n  width: 100%;\n  height: 40px;\n  z-index: 2000;\n  background-color: rgba(255, 255, 255, 0.4);\n  display: flex;\n  align-items: center;\n}\n\n.action-bar button {\n  background-color: black;\n  color: white;\n  border-radius: 30px;\n  border: none;\n  padding: 5px 15px;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n.action-bar * {\n  margin: 0 10px;\n}"},532:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=532},640:function(module){module.exports=JSON.parse('{"pipes":[],"interfaces":[{"name":"ComponentProviderOptions","id":"interface-ComponentProviderOptions-9c9e57f9c7131a845c4be9fbc4deda94","file":"packages/angular/src/lib/injection.tokens.ts","type":"interface","sourceCode":"import { InjectionToken, Type } from \'@angular/core\';\\nimport { BaseEntityType, BaseModel, EngineSetup } from \'@rxzu/core\';\\n\\nexport const MODEL: InjectionToken<BaseModel> = new InjectionToken(\'MODEL\');\\n\\nexport interface ComponentProviderOptions<T = any> {\\n  component: Type<T>;\\n  type: BaseEntityType;\\n  namespace?: string;\\n}\\n\\nexport const COMPONENT: InjectionToken<\\n  Omit<ComponentProviderOptions, \'type\'>\\n> = new InjectionToken(\'COMPONENT\');\\n\\nexport const DIAGRAM_DEFAULT_OPTIONS: InjectionToken<EngineSetup> = new InjectionToken(\\n  \'DIAGRAM_DEFAULT_OPTIONS\',\\n  {\\n    providedIn: \'root\',\\n    factory: function () {\\n      return {\\n        allowCanvasZoom: true,\\n        allowCanvasTranslation: true,\\n        inverseZoom: true,\\n        allowLooseLinks: true,\\n        maxZoomOut: 0,\\n        maxZoomIn: 0,\\n        portMagneticRadius: 30,\\n      } as EngineSetup;\\n    },\\n  }\\n);\\n","properties":[{"name":"component","type":"Type<T>","optional":false,"description":"","line":7},{"name":"namespace","type":"string","optional":true,"description":"","line":9},{"name":"type","type":"BaseEntityType","optional":false,"description":"","line":8}],"indexSignatures":[],"kind":150,"methods":[]},{"name":"ZonedClass","id":"interface-ZonedClass-e25d4af36bea6b7cde4b97b6a6b47e3a","file":"packages/angular/src/lib/utils/decorators.ts","type":"interface","sourceCode":"import { NgZone } from \'@angular/core\';\\n\\nexport interface ZonedClass {\\n  ngZone: NgZone;\\n}\\n\\nexport function OutsideZone<T extends ZonedClass>(\\n  targetClass: T,\\n  functionName: string,\\n  descriptor: any\\n) {\\n  const source = descriptor.value;\\n  descriptor.value = function (...data: any[]) {\\n    if (!this.ngZone) {\\n      throw new Error(\\n        \\"Class with \'OutsideZone\' decorator should have \'ngZone\' class property with \'NgZone\' class.\\"\\n      );\\n    }\\n    return this.ngZone.runOutsideAngular(() => source.call(this, ...data));\\n  };\\n  return descriptor;\\n}\\n","properties":[{"name":"ngZone","type":"NgZone","optional":false,"description":"","line":4}],"indexSignatures":[],"kind":150,"methods":[]}],"injectables":[{"name":"EngineService","id":"injectable-EngineService-262d550fef97c74d2f0b74412de3b074","file":"packages/angular/src/lib/engine.service.ts","properties":[{"name":"_renderer","type":"Renderer2","optional":false,"description":"","line":12,"modifierKind":[113]}],"methods":[],"description":"","sourceCode":"import {\\n  ComponentFactoryResolver,\\n  Injectable,\\n  Renderer2,\\n  RendererFactory2\\n} from \'@angular/core\';\\nimport { DiagramEngine } from \'@rxzu/core\';\\nimport { FactoryService } from \'./factory.service\';\\n\\n@Injectable()\\nexport class EngineService extends DiagramEngine {\\n  protected _renderer: Renderer2;\\n\\n  constructor(\\n    protected resolver: ComponentFactoryResolver,\\n    protected rendererFactory: RendererFactory2,\\n    protected factory: FactoryService\\n  ) {\\n    super(factory);\\n    this._renderer = this.rendererFactory.createRenderer(null, null);\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","args":[{"name":"resolver","type":"ComponentFactoryResolver"},{"name":"rendererFactory","type":"RendererFactory2"},{"name":"factory","type":"FactoryService"}],"line":12,"jsdoctags":[{"name":"resolver","type":"ComponentFactoryResolver","tagName":{"text":"param"}},{"name":"rendererFactory","type":"RendererFactory2","tagName":{"text":"param"}},{"name":"factory","type":"FactoryService","tagName":{"text":"param"}}]},"extends":"DiagramEngine","type":"injectable"},{"name":"FactoryService","id":"injectable-FactoryService-d934973d0f15b8a3a496879fd0d87031","file":"packages/angular/src/lib/factory.service.ts","properties":[],"methods":[{"name":"destroyWidget","args":[{"name":"widget","type":"ComponentRef<any>"}],"optional":false,"returnType":"void","typeParameters":[],"line":34,"jsdoctags":[{"name":"widget","type":"ComponentRef<any>","tagName":{"text":"param"}}]},{"name":"detectChanges","args":[{"name":"widget","type":"ComponentRef<any>"}],"optional":false,"returnType":"void","typeParameters":[],"line":38,"jsdoctags":[{"name":"widget","type":"ComponentRef<any>","tagName":{"text":"param"}}]},{"name":"getHTMLElement","args":[{"name":"widget","type":"ComponentRef<any>"}],"optional":false,"returnType":"HTMLElement","typeParameters":[],"line":30,"jsdoctags":[{"name":"widget","type":"ComponentRef<any>","tagName":{"text":"param"}}]},{"name":"resolveComponent","args":[{"type":"WidgetOptions<M | ViewContainerRef>"}],"optional":false,"returnType":"ComponentRef<any>","typeParameters":["M"],"line":42,"jsdoctags":[{"type":"WidgetOptions<M | ViewContainerRef>","tagName":{"text":"param"}}]}],"description":"","sourceCode":"import {\\n  ComponentFactoryResolver,\\n  ComponentRef,\\n  Injectable,\\n  Injector,\\n  Type,\\n  ViewContainerRef,\\n} from \'@angular/core\';\\nimport {\\n  AbstractFactory,\\n  BaseModel,\\n  toRegistryKey,\\n  WidgetOptions,\\n} from \'@rxzu/core\';\\nimport { RegistryService } from \'./registry.service\';\\nimport { MODEL } from \'./injection.tokens\';\\n\\n@Injectable()\\nexport class FactoryService extends AbstractFactory<\\n  Type<any>,\\n  ComponentRef<any>\\n> {\\n  constructor(\\n    registry: RegistryService,\\n    private cfr: ComponentFactoryResolver\\n  ) {\\n    super(registry);\\n  }\\n\\n  getHTMLElement(widget: ComponentRef<any>): HTMLElement {\\n    return widget.location.nativeElement;\\n  }\\n\\n  destroyWidget(widget: ComponentRef<any>) {\\n    widget.destroy();\\n  }\\n\\n  detectChanges(widget: ComponentRef<any>) {\\n    widget.changeDetectorRef.detectChanges();\\n  }\\n\\n  resolveComponent<M extends BaseModel>({\\n    model,\\n    host,\\n    index,\\n    diagramModel,\\n  }: WidgetOptions<M, ViewContainerRef>): ComponentRef<any> {\\n    const cmp = this.get(model);\\n    if (!cmp)\\n      throw new Error(\\n        `[RxZu] Couldn\'t find component for ${toRegistryKey(\\n          model.type,\\n          model.namespace\\n        )}`\\n      );\\n\\n    const injector = Injector.create({\\n      providers: [{ provide: MODEL, useValue: model }],\\n      parent: host.injector,\\n    });\\n\\n    const ref = host.createComponent(\\n      this.cfr.resolveComponentFactory(cmp),\\n      index,\\n      injector\\n    );\\n\\n    return ref;\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","args":[{"name":"registry","type":"RegistryService"},{"name":"cfr","type":"ComponentFactoryResolver"}],"line":22,"jsdoctags":[{"name":"registry","type":"RegistryService","tagName":{"text":"param"}},{"name":"cfr","type":"ComponentFactoryResolver","tagName":{"text":"param"}}]},"extends":"AbstractFactory","type":"injectable"},{"name":"RegistryService","id":"injectable-RegistryService-c9ee533bd91e9a88d3195972cd6e3627","file":"packages/angular/src/lib/registry.service.ts","properties":[],"methods":[],"description":"","sourceCode":"import { Inject, Injectable, Optional, SkipSelf, Type } from \'@angular/core\';\\nimport { AbstractRegistry } from \'@rxzu/core\';\\n\\n@Injectable({ providedIn: \'root\' })\\nexport class RegistryService extends AbstractRegistry<Type<any>> {\\n  constructor(\\n    @Optional()\\n    @SkipSelf()\\n    @Inject(RegistryService)\\n    parent: RegistryService | null\\n  ) {\\n    super(parent);\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","args":[{"name":"parent","type":"RegistryService | null"}],"line":5,"jsdoctags":[{"name":"parent","type":"RegistryService | null","tagName":{"text":"param"}}]},"extends":"AbstractRegistry","type":"injectable"}],"classes":[{"name":"TemplateVarContext","id":"class-TemplateVarContext-a31c3786aab76309a86889750d089e0b","file":"packages/angular/src/lib/utils/template-var.directive.ts","type":"class","sourceCode":"import {\\n  Directive,\\n  EmbeddedViewRef,\\n  Input,\\n  TemplateRef,\\n  ViewContainerRef,\\n} from \'@angular/core\';\\n\\nclass TemplateVarContext {\\n  $implicit: any;\\n  templateVar: any;\\n}\\n\\n@Directive({\\n  selector: \'[templateVar]\',\\n})\\nexport class TemplateVarDirective {\\n  view: EmbeddedViewRef<any> | null = null;\\n\\n  protected context = new TemplateVarContext();\\n\\n  @Input()\\n  set templateVar(context: any) {\\n    this.context.$implicit = this.context.templateVar = context;\\n    this.updateView();\\n  }\\n\\n  constructor(\\n    protected vcRef: ViewContainerRef,\\n    protected templateRef: TemplateRef<any>\\n  ) {}\\n\\n  updateView() {\\n    if (!this.view) {\\n      this.vcRef.clear();\\n      this.view = this.vcRef.createEmbeddedView(this.templateRef, this.context);\\n    } else {\\n      this.view.markForCheck();\\n    }\\n  }\\n}\\n","properties":[{"name":"$implicit","type":"any","optional":false,"description":"","line":10},{"name":"templateVar","type":"any","optional":false,"description":"","line":11}],"methods":[],"indexSignatures":[],"inputsClass":[],"outputsClass":[],"hostBindings":[],"hostListeners":[]}],"directives":[{"name":"TemplateVarDirective","id":"directive-TemplateVarDirective-a31c3786aab76309a86889750d089e0b","file":"packages/angular/src/lib/utils/template-var.directive.ts","type":"directive","description":"","sourceCode":"import {\\n  Directive,\\n  EmbeddedViewRef,\\n  Input,\\n  TemplateRef,\\n  ViewContainerRef,\\n} from \'@angular/core\';\\n\\nclass TemplateVarContext {\\n  $implicit: any;\\n  templateVar: any;\\n}\\n\\n@Directive({\\n  selector: \'[templateVar]\',\\n})\\nexport class TemplateVarDirective {\\n  view: EmbeddedViewRef<any> | null = null;\\n\\n  protected context = new TemplateVarContext();\\n\\n  @Input()\\n  set templateVar(context: any) {\\n    this.context.$implicit = this.context.templateVar = context;\\n    this.updateView();\\n  }\\n\\n  constructor(\\n    protected vcRef: ViewContainerRef,\\n    protected templateRef: TemplateRef<any>\\n  ) {}\\n\\n  updateView() {\\n    if (!this.view) {\\n      this.vcRef.clear();\\n      this.view = this.vcRef.createEmbeddedView(this.templateRef, this.context);\\n    } else {\\n      this.view.markForCheck();\\n    }\\n  }\\n}\\n","selector":"[templateVar]","providers":[],"inputsClass":[{"name":"templateVar","line":23,"type":"any"}],"outputsClass":[],"hostBindings":[],"hostListeners":[],"propertiesClass":[{"name":"context","defaultValue":"new TemplateVarContext()","type":"","optional":false,"description":"","line":20,"modifierKind":[113]},{"name":"view","defaultValue":"null","type":"EmbeddedViewRef<any> | null","optional":false,"description":"","line":18}],"methodsClass":[{"name":"updateView","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":33}],"constructorObj":{"name":"constructor","description":"","args":[{"name":"vcRef","type":"ViewContainerRef"},{"name":"templateRef","type":"TemplateRef<any>"}],"line":26,"jsdoctags":[{"name":"vcRef","type":"ViewContainerRef","tagName":{"text":"param"}},{"name":"templateRef","type":"TemplateRef<any>","tagName":{"text":"param"}}]},"accessors":{"templateVar":{"name":"templateVar","setSignature":{"name":"templateVar","type":"void","args":[{"name":"context","type":"any"}],"returnType":"void","line":23,"jsdoctags":[{"name":"context","type":"any","tagName":{"text":"param"}}]}}}}],"components":[{"name":"DefaultLabelComponent","id":"component-DefaultLabelComponent-1e8fc6e7b7da4885f2805aa3d35b7309","file":"packages/angular/src/lib/defaults/components/default-label/default-label.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"rxzu-default-label","styleUrls":["./default-label.component.scss"],"styles":[],"templateUrl":["./default-label.component.html"],"viewProviders":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[{"name":"model","type":"LabelModel","optional":false,"description":"","line":19,"decorators":[{"name":"Host","stringifiedArguments":""},{"name":"Inject","stringifiedArguments":"MODEL"}],"modifierKind":[114]}],"methodsClass":[{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":23}],"hostBindings":[],"hostListeners":[],"description":"","rawdescription":"","type":"component","sourceCode":"import {\\n  ChangeDetectionStrategy,\\n  ChangeDetectorRef,\\n  Component, Host,\\n  Inject,\\n  OnInit\\n} from \'@angular/core\';\\nimport { LabelModel } from \'@rxzu/core\';\\nimport { MODEL } from \'../../../injection.tokens\';\\n\\n@Component({\\n  selector: \'rxzu-default-label\',\\n  templateUrl: \'./default-label.component.html\',\\n  styleUrls: [\'./default-label.component.scss\'],\\n  changeDetection: ChangeDetectionStrategy.OnPush\\n})\\nexport class DefaultLabelComponent implements OnInit {\\n  constructor(\\n    @Host() @Inject(MODEL) public model: LabelModel,\\n    private cdRef: ChangeDetectorRef\\n  ) {}\\n\\n  ngOnInit() {\\n    this.model.selectCoords().subscribe(() => {\\n      this.cdRef.detectChanges();\\n    });\\n\\n    this.model.setPainted(true);\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":":host {\\n  position: absolute;\\n}\\n\\n.default-label {\\n  color: white;\\n  user-select: none;\\n}\\n","styleUrl":"./default-label.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","args":[{"name":"model","type":"LabelModel"},{"name":"cdRef","type":"ChangeDetectorRef"}],"line":17,"jsdoctags":[{"name":"model","type":"LabelModel","tagName":{"text":"param"}},{"name":"cdRef","type":"ChangeDetectorRef","tagName":{"text":"param"}}]},"implements":["OnInit"],"templateData":"<div\\n  class=\\"default-label\\"\\n  [ngStyle]=\\"{\\n    transform:\\n      \'translate(\' +\\n      (model.selectCoords() | async)?.x +\\n      \'px, \' +\\n      (model.selectCoords() | async)?.y +\\n      \'px)\' +\\n      \'rotate(\' +\\n      (model.selectRotation() | async) +\\n      \'deg)\'\\n  }\\"\\n>\\n  {{ model.selectText() | async }}\\n</div>\\n"},{"name":"DefaultLinkComponent","id":"component-DefaultLinkComponent-dc74ff8e001bff0e910ed9590e8c13af","file":"packages/angular/src/lib/defaults/components/default-link/default-link.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"rxzu-default-link","styleUrls":["./default-link.component.scss"],"styles":[],"templateUrl":["./default-link.component.html"],"viewProviders":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[{"name":"labelLayer","type":"ViewContainerRef","optional":false,"description":"","line":23,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'labelLayer\', {read: ViewContainerRef, static: true}"}]},{"name":"model","type":"LinkModel","optional":false,"description":"","line":26,"decorators":[{"name":"Host","stringifiedArguments":""},{"name":"Inject","stringifiedArguments":"MODEL"}],"modifierKind":[114]}],"methodsClass":[{"name":"calcCenterOfPath","args":[{"name":"firstPoint","type":"Coords"},{"name":"secondPoint","type":"Coords"}],"optional":false,"returnType":"Coords","typeParameters":[],"line":99,"jsdoctags":[{"name":"firstPoint","type":"Coords","tagName":{"text":"param"}},{"name":"secondPoint","type":"Coords","tagName":{"text":"param"}}]},{"name":"calcLabelIncline","args":[{"name":"firstPoint","type":"Coords"},{"name":"secondPoint","type":"Coords"}],"optional":false,"returnType":"number","typeParameters":[],"line":82,"jsdoctags":[{"name":"firstPoint","type":"Coords","tagName":{"text":"param"}},{"name":"secondPoint","type":"Coords","tagName":{"text":"param"}}]},{"name":"ngAfterViewInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":42},{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":30},{"name":"onHover","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":38},{"name":"trackByPoints","args":[{"name":"i","type":"number"},{"name":"point","type":"PointModel"}],"optional":false,"returnType":"any","typeParameters":[],"line":34,"jsdoctags":[{"name":"i","type":"number","tagName":{"text":"param"}},{"name":"point","type":"PointModel","tagName":{"text":"param"}}]}],"hostBindings":[],"hostListeners":[],"description":"","rawdescription":"","type":"component","sourceCode":"import {\\n  AfterViewInit,\\n  ChangeDetectionStrategy,\\n  ChangeDetectorRef,\\n  Component, Host,\\n  Inject, OnInit,\\n  ViewChild,\\n  ViewContainerRef\\n} from \'@angular/core\';\\nimport { PointModel, generateCurvePath, Coords, LinkModel } from \'@rxzu/core\';\\nimport { combineLatest } from \'rxjs\';\\nimport { takeUntil } from \'rxjs/operators\';\\nimport { MODEL } from \'../../../injection.tokens\';\\n\\n@Component({\\n  selector: \'rxzu-default-link\',\\n  templateUrl: \'./default-link.component.html\',\\n  styleUrls: [\'./default-link.component.scss\'],\\n  changeDetection: ChangeDetectionStrategy.OnPush\\n})\\nexport class DefaultLinkComponent implements OnInit, AfterViewInit {\\n  @ViewChild(\'labelLayer\', { read: ViewContainerRef, static: true })\\n  labelLayer!: ViewContainerRef;\\n\\n  constructor(\\n    @Host() @Inject(MODEL) public model: LinkModel,\\n    private cdRef: ChangeDetectorRef\\n  ) {}\\n\\n  ngOnInit() {\\n    this.model.setPainted(true);\\n  }\\n\\n  trackByPoints(i: number, point: PointModel) {\\n    return point.id;\\n  }\\n\\n  onHover() {\\n    this.cdRef.detectChanges();\\n  }\\n\\n  ngAfterViewInit() {\\n    const firstPCoords$ = this.model.getFirstPoint().selectCoords();\\n    const lastPCoords$ = this.model.getLastPoint().selectCoords();\\n\\n    // Observe link coords and update drawing accordingly\\n    combineLatest([firstPCoords$, lastPCoords$])\\n      .pipe(takeUntil(this.model.onEntityDestroy()))\\n      .subscribe(([firstPCoords, lastPCoords]) => {\\n        const points = [firstPCoords, lastPCoords];\\n\\n        // handle regular links\\n        // draw the smoothing\\n        // if the points are too close, just draw a straight line\\n        const isHorizontal =\\n          Math.abs(firstPCoords.x - lastPCoords.x) >\\n          Math.abs(firstPCoords.y - lastPCoords.y);\\n        const xOrY = isHorizontal ? \'x\' : \'y\';\\n        let isStraight = false;\\n        if (Math.abs(points[0][xOrY] - points[1][xOrY]) < 50) {\\n          isStraight = true;\\n        }\\n\\n        const path = generateCurvePath(\\n          firstPCoords,\\n          lastPCoords,\\n          isStraight ? 0 : 50\\n        );\\n        this.model.setPath(path);\\n\\n        const label = this.model.getLabel();\\n\\n        // update label position\\n        if (label) {\\n          label.setCoords(this.calcCenterOfPath(firstPCoords, lastPCoords));\\n        }\\n\\n        this.cdRef.detectChanges();\\n      });\\n  }\\n\\n  calcLabelIncline(firstPoint: Coords, secondPoint: Coords): number {\\n    const dy = secondPoint.y - firstPoint.y;\\n    const dx = secondPoint.x - firstPoint.x;\\n\\n    if (dx === 0) {\\n      return 0;\\n    }\\n\\n    let inclineAngel = (Math.atan(dy / dx) * 180) / Math.PI;\\n\\n    if (inclineAngel < 0) {\\n      inclineAngel += 180;\\n    }\\n\\n    return inclineAngel;\\n  }\\n\\n  calcCenterOfPath(firstPoint: Coords, secondPoint: Coords): Coords {\\n    return {\\n      x: (firstPoint.x + secondPoint.x) / 2 + 20,\\n      y: (firstPoint.y + secondPoint.y) / 2 + 20,\\n    };\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":":host {\\n  position: absolute;\\n}\\n\\n.link-container {\\n  position: relative;\\n  fill: none;\\n  overflow: visible;\\n  pointer-events: all;\\n}\\n\\n.default-link {\\n  fill: none;\\n  overflow: visible;\\n\\n  @keyframes dash {\\n    from {\\n      stroke-dashoffset: 24;\\n    }\\n    to {\\n      stroke-dashoffset: 0;\\n    }\\n  }\\n\\n  &.hovered {\\n    stroke: rgb(0, 192, 255);\\n    stroke-dasharray: 10, 2;\\n    animation: dash 1s linear infinite;\\n  }\\n}\\n\\n.default-point {\\n  color: lightgray;\\n  overflow: visible;\\n  pointer-events: all;\\n\\n  &.hovered {\\n    color: rgb(0, 192, 255);\\n  }\\n}\\n","styleUrl":"./default-link.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","args":[{"name":"model","type":"LinkModel"},{"name":"cdRef","type":"ChangeDetectorRef"}],"line":23,"jsdoctags":[{"name":"model","type":"LinkModel","tagName":{"text":"param"}},{"name":"cdRef","type":"ChangeDetectorRef","tagName":{"text":"param"}}]},"implements":["OnInit","AfterViewInit"],"templateData":"\x3c!-- Label Host --\x3e\\n<ng-template #labelLayer></ng-template>\\n\\n<svg class=\\"link-container\\">\\n  \x3c!-- Link --\x3e\\n  <g [id]=\\"model.id\\">\\n    <path\\n      class=\\"default-link\\"\\n      stroke-width=\\"1\\"\\n      stroke=\\"white\\"\\n      [attr.d]=\\"model.selectPath() | async\\"\\n      (mouseleave)=\\"model.setHovered(false); onHover()\\"\\n      (mouseenter)=\\"model.setHovered(); onHover()\\"\\n      [ngClass]=\\"{ hovered: model.selectHovered() | async }\\"\\n    ></path>\\n    <path\\n      class=\\"default-link\\"\\n      stroke=\\"blue\\"\\n      stroke-linecap=\\"round\\"\\n      (mouseleave)=\\"model.setHovered(false); onHover()\\"\\n      (mouseenter)=\\"model.setHovered(); onHover()\\"\\n      [attr.stroke-width]=\\"20\\"\\n      [attr.data-type]=\\"model.type\\"\\n      [attr.data-id]=\\"model.id\\"\\n      [attr.stroke-opacity]=\\"(model.selectHovered() | async) ? \'0.1\' : \'0\'\\"\\n      [attr.d]=\\"model.selectPath() | async\\"\\n    ></path>\\n  </g>\\n\\n  \x3c!-- Points --\x3e\\n  <g\\n    *ngFor=\\"let point of model.getPoints(); trackBy: trackByPoints\\"\\n    [id]=\\"point.id\\"\\n  >\\n    <circle\\n      fill=\\"currentColor\\"\\n      [attr.cx]=\\"point.selectX() | async\\"\\n      [attr.cy]=\\"point.selectY() | async\\"\\n      r=\\"5\\"\\n      class=\\"default-point\\"\\n      [ngClass]=\\"{ hovered: point.selectHovered() | async }\\"\\n    />\\n    <circle\\n      [attr.data-type]=\\"point.type\\"\\n      [attr.data-id]=\\"point.id\\"\\n      [attr.data-parent-id]=\\"model.id\\"\\n      (mouseleave)=\\"point.setHovered(false); model.setHovered(false)\\"\\n      (mouseenter)=\\"point.setHovered(); model.setHovered()\\"\\n      [attr.cx]=\\"point.selectX() | async\\"\\n      [attr.cy]=\\"point.selectY() | async\\"\\n      r=\\"15\\"\\n      [attr.opacity]=\\"0\\"\\n      [ngClass]=\\"{ selected: point.selectSelected() | async }\\"\\n    />\\n  </g>\\n</svg>\\n"},{"name":"DefaultNodeComponent","id":"component-DefaultNodeComponent-ead6fd9a43c7810338f1c0a19477eab3","file":"packages/angular/src/lib/defaults/components/default-node/default-node.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"rxzu-default-node","styleUrls":["./default-node.component.scss"],"styles":[],"templateUrl":["./default-node.component.html"],"viewProviders":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[{"name":"model","type":"NodeModel","optional":false,"description":"","line":40,"decorators":[{"name":"Host","stringifiedArguments":""},{"name":"Inject","stringifiedArguments":"MODEL"}],"modifierKind":[114]},{"name":"portDiffers","type":"IterableDiffer<PortModel>","optional":false,"description":"","line":35,"modifierKind":[112]},{"name":"portsLayer","type":"ViewContainerRef","optional":false,"description":"","line":37,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'portsLayer\', {read: ViewContainerRef, static: true}"}]}],"methodsClass":[{"name":"applyPortChanges","args":[{"name":"changes","type":"IterableChanges<PortModel> | null"}],"optional":false,"returnType":"void","typeParameters":[],"line":85,"modifierKind":[112],"jsdoctags":[{"name":"changes","type":"IterableChanges<PortModel> | null","tagName":{"text":"param"}}]},{"name":"getPortsHost","args":[],"optional":false,"returnType":"any","typeParameters":[],"line":54},{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":50},{"name":"updatePorts","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":58}],"hostBindings":[],"hostListeners":[],"description":"","rawdescription":"","type":"component","sourceCode":"import {\\n  ChangeDetectionStrategy,\\n  Component,\\n  Host,\\n  Inject,\\n  IterableChanges,\\n  IterableDiffer,\\n  IterableDiffers,\\n  OnInit,\\n  ViewChild,\\n  ViewContainerRef,\\n} from \'@angular/core\';\\nimport { NodeModel, PortModel } from \'@rxzu/core\';\\nimport { MODEL } from \'../../../injection.tokens\';\\nimport {\\n  filter,\\n  mapTo,\\n  pluck,\\n  switchMap,\\n  take,\\n  takeUntil,\\n  tap,\\n} from \'rxjs/operators\';\\nimport { combineLatest } from \'rxjs\';\\nimport { RxZuDiagramComponent } from \'../../../diagram/diagram.component\';\\nimport { EngineService } from \'../../../engine.service\';\\n\\n@Component({\\n  selector: \'rxzu-default-node\',\\n  templateUrl: \'./default-node.component.html\',\\n  styleUrls: [\'./default-node.component.scss\'],\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nexport class DefaultNodeComponent implements OnInit {\\n  private portDiffers: IterableDiffer<PortModel>;\\n  @ViewChild(\'portsLayer\', { read: ViewContainerRef, static: true })\\n  portsLayer!: ViewContainerRef;\\n\\n  constructor(\\n    @Host() @Inject(MODEL) public model: NodeModel,\\n    private engine: EngineService,\\n    private diagram: RxZuDiagramComponent,\\n    private iterableDiffers: IterableDiffers\\n  ) {\\n    this.portDiffers = this.iterableDiffers\\n      .find([])\\n      .create<PortModel>((index, item) => item.id);\\n  }\\n\\n  ngOnInit() {\\n    this.updatePorts();\\n  }\\n\\n  getPortsHost() {\\n    return this.portsLayer;\\n  }\\n\\n  updatePorts(): void {\\n    this.model\\n      .selectPorts()\\n      .pipe(\\n        takeUntil(this.model.onEntityDestroy()),\\n        filter(\\n          (ports: PortModel[] | null | undefined): ports is PortModel[] =>\\n            ports !== null && ports !== undefined\\n        ),\\n        tap((ports) => this.applyPortChanges(this.portDiffers.diff(ports))),\\n        switchMap((ports) =>\\n          combineLatest(\\n            ports.map((port) =>\\n              port\\n                .paintChanges()\\n                .pipe(pluck(\'isPainted\'), filter<boolean>(Boolean), take(1))\\n            )\\n          )\\n        ),\\n        filter((val) => val !== null),\\n        mapTo(true)\\n      )\\n      .subscribe(\\n        () => !this.model.getPainted().isPainted && this.model.setPainted(true)\\n      );\\n  }\\n\\n  private applyPortChanges(changes: IterableChanges<PortModel> | null): void {\\n    if (changes) {\\n      const canvasManager = this.engine.getCanvasManager();\\n      changes.forEachAddedItem(({ item }) => {\\n        canvasManager.paintModel(item, this.getPortsHost());\\n        item.setParent(this.model);\\n        this.model.updatePortCoords(item, this.diagram.diagramEngine);\\n      });\\n\\n      changes.forEachMovedItem(({ item }) => {\\n        this.model.updatePortCoords(item, this.diagram.diagramEngine);\\n      });\\n    }\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":":host {\\n  position: absolute;\\n}\\n\\n.default-node {\\n  &.selected {\\n    background-color: honeydew;\\n  }\\n\\n  &.hovered {\\n    background-color: gainsboro;\\n  }\\n\\n  display: block;\\n  width: 200px;\\n  height: 200px;\\n  pointer-events: all;\\n  border-radius: 10px;\\n  user-select: none;\\n  cursor: auto;\\n  background-color: white;\\n}\\n\\n.ports {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n","styleUrl":"./default-node.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","args":[{"name":"model","type":"NodeModel"},{"name":"engine","type":"EngineService"},{"name":"diagram","type":"RxZuDiagramComponent"},{"name":"iterableDiffers","type":"IterableDiffers"}],"line":37,"jsdoctags":[{"name":"model","type":"NodeModel","tagName":{"text":"param"}},{"name":"engine","type":"EngineService","tagName":{"text":"param"}},{"name":"diagram","type":"RxZuDiagramComponent","tagName":{"text":"param"}},{"name":"iterableDiffers","type":"IterableDiffers","tagName":{"text":"param"}}]},"implements":["OnInit"],"templateData":"<div\\n  class=\\"default-node\\"\\n  [ngClass]=\\"{\\n    selected: model.selectSelected() | async,\\n    hovered: model.selectHovered() | async\\n  }\\"\\n  (mouseover)=\\"model.setHovered()\\"\\n  (mouseout)=\\"model.setHovered(false)\\"\\n>\\n  <div class=\\"ports\\">\\n    <ng-template #portsLayer></ng-template>\\n  </div>\\n</div>\\n"},{"name":"DefaultPortComponent","id":"component-DefaultPortComponent-b316a330cf3fdef57b3344e689f84f45","file":"packages/angular/src/lib/defaults/components/default-port/default-port.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"rxzu-default-port","styleUrls":["./default-port.component.scss"],"styles":[],"templateUrl":["./default-port.component.html"],"viewProviders":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[{"name":"model","type":"PortModel","optional":false,"description":"","line":12,"decorators":[{"name":"Host","stringifiedArguments":""},{"name":"Inject","stringifiedArguments":"MODEL"}],"modifierKind":[114]}],"methodsClass":[{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":14}],"hostBindings":[],"hostListeners":[],"description":"","rawdescription":"","type":"component","sourceCode":"import { ChangeDetectionStrategy, Component, Host, Inject, OnInit } from \'@angular/core\';\\nimport { PortModel } from \'@rxzu/core\';\\nimport { MODEL } from \'../../../injection.tokens\';\\n\\n@Component({\\n  selector: \'rxzu-default-port\',\\n  templateUrl: \'./default-port.component.html\',\\n  styleUrls: [\'./default-port.component.scss\'],\\n  changeDetection: ChangeDetectionStrategy.OnPush\\n})\\nexport class DefaultPortComponent implements OnInit {\\n  constructor(@Host() @Inject(MODEL) public model: PortModel) {}\\n\\n  ngOnInit() {\\n    this.model.setPainted(true);\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":":host {\\n  position: relative;\\n  width: 10px;\\n  height: 10px;\\n  border-radius: 60px;\\n  border: 1px solid gray;\\n  background-color: lightgray;\\n  margin: 10px 0;\\n}\\n","styleUrl":"./default-port.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","args":[{"name":"model","type":"PortModel"}],"line":11,"jsdoctags":[{"name":"model","type":"PortModel","tagName":{"text":"param"}}]},"implements":["OnInit"],"templateData":"<div draggable=\\"false\\"></div>\\n"},{"name":"RxZuDiagramComponent","id":"component-RxZuDiagramComponent-1d9166235be7a06001e07024e71f60c6","file":"packages/angular/src/lib/diagram/diagram.component.ts","changeDetection":"ChangeDetectionStrategy.OnPush","encapsulation":[],"entryComponents":[],"exportAs":"RxzuDiagram","inputs":[],"outputs":[],"providers":[{"name":"EngineService"},{"name":"RegistryService"},{"name":"FactoryService"}],"selector":"rxzu-diagram","styleUrls":["diagram.component.scss"],"styles":[],"templateUrl":["diagram.component.html"],"viewProviders":[],"inputsClass":[{"name":"model","line":45,"type":"DiagramModel"},{"name":"name","description":"<p>The name of the diagram, if not set will be <code>&#39;default&#39;</code> </p>\\n","line":44,"type":"string"},{"name":"options","line":46,"type":"Partial<EngineSetup>"}],"outputsClass":[],"propertiesClass":[{"name":"actionsManager","type":"ActionsManager","optional":false,"description":"","line":61},{"name":"canvas","type":"ElementRef","optional":true,"description":"","line":55,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'canvas\', {read: ElementRef, static: true}"}]},{"name":"canvasManager","type":"CanvasManager","optional":false,"description":"","line":60},{"name":"diagramEngine","type":"EngineService","optional":false,"description":"","line":68,"modifierKind":[114,132]},{"name":"keyboardManager","type":"KeyboardManager","optional":false,"description":"","line":59},{"name":"linksLayer","type":"ViewContainerRef","optional":true,"description":"","line":52,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'linksLayer\', {read: ViewContainerRef, static: true}"}]},{"name":"mouseManager","type":"MouseManager","optional":false,"description":"","line":58},{"name":"ngZone","type":"NgZone","optional":false,"description":"","line":69,"modifierKind":[114]},{"name":"nodesLayer","type":"ViewContainerRef","optional":true,"description":"","line":49,"decorators":[{"name":"ViewChild","stringifiedArguments":"\'nodesLayer\', {read: ViewContainerRef, static: true}"}]},{"name":"selectionBox$","type":"Observable<SelectingAction | null>","optional":true,"description":"","line":56}],"methodsClass":[{"name":"getLinksLayer","args":[],"optional":false,"returnType":"HTMLDivElement | null","typeParameters":[],"line":241,"modifierKind":[113]},{"name":"getNodesLayer","args":[],"optional":false,"returnType":"HTMLDivElement | null","typeParameters":[],"line":233,"modifierKind":[113]},{"name":"initNodes","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":130,"modifierKind":[113]},{"name":"initSelectionBox","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":146,"modifierKind":[113]},{"name":"initSubs","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":215,"modifierKind":[113]},{"name":"ngOnDestroy","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":105},{"name":"ngOnInit","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":81},{"name":"onKeyUp","args":[{"name":"event","type":"KeyboardEvent"}],"optional":false,"returnType":"void","typeParameters":[],"line":174,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"event","type":"KeyboardEvent","tagName":{"text":"param"}}]},{"name":"onMouseDown","args":[{"name":"event","type":"MouseEvent"}],"optional":false,"returnType":"void","typeParameters":[],"line":194,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"event","type":"MouseEvent","tagName":{"text":"param"}}]},{"name":"onMouseMove","args":[{"name":"event","type":"MouseEvent"}],"optional":false,"returnType":"void","typeParameters":[],"line":189,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"event","type":"MouseEvent","tagName":{"text":"param"}}]},{"name":"onMouseUp","args":[{"name":"event","type":"MouseEvent"}],"optional":false,"returnType":"void","typeParameters":[],"line":169,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"event","type":"MouseEvent","tagName":{"text":"param"}}]},{"name":"onMouseWheel","args":[{"name":"event","type":"WheelEvent"}],"optional":false,"returnType":"void","typeParameters":[],"line":199,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"event","type":"WheelEvent","tagName":{"text":"param"}}]},{"name":"setLayerStyles","args":[{"name":"x","type":"number"},{"name":"y","type":"number"},{"name":"zoom","type":"number"}],"optional":false,"returnType":"void","typeParameters":[],"line":204,"decorators":[{"name":"OutsideZone"}],"modifierKind":[113],"jsdoctags":[{"name":"x","type":"number","tagName":{"text":"param"}},{"name":"y","type":"number","tagName":{"text":"param"}},{"name":"zoom","type":"number","tagName":{"text":"param"}}]},{"name":"zoomToFit","args":[{"name":"additionalZoomFactor","type":"number","optional":true}],"optional":false,"returnType":"void","typeParameters":[],"line":117,"description":"<p>zoom the canvas to fit all nodes inside the view.</p>\\n","jsdoctags":[{"name":{"pos":3142,"end":3162,"flags":0,"escapedText":"additionalZoomFactor"},"type":"number","optional":true,"tagName":{"pos":3136,"end":3141,"flags":0,"escapedText":"param"},"comment":"<p>additional margins to the zooming factor</p>\\n"}]},{"name":"zoomToNodes","args":[{"name":"nodes","type":"NodeModel[]"},{"name":"margin","type":"number","defaultValue":"100"}],"optional":false,"returnType":"void","typeParameters":[],"line":126,"description":"","jsdoctags":[{"name":{"pos":3345,"end":3350,"flags":0,"escapedText":"nodes"},"type":"NodeModel[]","tagName":{"pos":3339,"end":3344,"flags":0,"escapedText":"param"},"comment":"<p>zoom the canvas to the selected nodes</p>\\n"},{"name":{"pos":3401,"end":3407,"flags":0,"escapedText":"margin"},"type":"number","defaultValue":"100","tagName":{"pos":3395,"end":3400,"flags":0,"escapedText":"param"},"comment":"<p>additional margins to the zooming factor</p>\\n"}]}],"hostBindings":[],"hostListeners":[{"name":"window:copy","args":[{"name":"event","type":"ClipboardEvent"}],"argsDecorator":["$event"],"line":179},{"name":"window:paste","args":[{"name":"event","type":"ClipboardEvent"}],"argsDecorator":["$event"],"line":184}],"description":"","rawdescription":"","type":"component","sourceCode":"import {\\n  ChangeDetectionStrategy,\\n  ChangeDetectorRef,\\n  Component,\\n  ElementRef,\\n  Inject,\\n  HostListener,\\n  Input,\\n  NgZone,\\n  OnDestroy,\\n  Renderer2,\\n  ViewChild,\\n  ViewContainerRef,\\n  OnInit,\\n} from \'@angular/core\';\\nimport { combineLatest, noop, Observable, of } from \'rxjs\';\\nimport { map, switchMap, takeUntil, tap } from \'rxjs/operators\';\\nimport {\\n  SelectingAction,\\n  MouseManager,\\n  DiagramModel,\\n  EngineSetup,\\n  KeyboardManager,\\n  NodeModel,\\n  CanvasManager,\\n  ActionsManager,\\n} from \'@rxzu/core\';\\nimport { ZonedClass, OutsideZone } from \'../utils\';\\nimport { EngineService } from \'../engine.service\';\\nimport { RegistryService } from \'../registry.service\';\\nimport { FactoryService } from \'../factory.service\';\\nimport { DIAGRAM_DEFAULT_OPTIONS } from \'../injection.tokens\';\\n\\n@Component({\\n  selector: \'rxzu-diagram\',\\n  exportAs: \'RxzuDiagram\',\\n  templateUrl: \'diagram.component.html\',\\n  styleUrls: [\'diagram.component.scss\'],\\n  providers: [EngineService, RegistryService, FactoryService],\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nexport class RxZuDiagramComponent implements OnInit, OnDestroy, ZonedClass {\\n  /** The name of the diagram, if not set will be `\'default\'` */\\n  @Input() name?: string;\\n  @Input() model!: DiagramModel;\\n  @Input() options?: Partial<EngineSetup>;\\n\\n  @ViewChild(\'nodesLayer\', { read: ViewContainerRef, static: true })\\n  nodesLayer?: ViewContainerRef;\\n\\n  @ViewChild(\'linksLayer\', { read: ViewContainerRef, static: true })\\n  linksLayer?: ViewContainerRef;\\n\\n  @ViewChild(\'canvas\', { read: ElementRef, static: true })\\n  canvas?: ElementRef;\\n  selectionBox$?: Observable<SelectingAction | null>;\\n\\n  mouseManager: MouseManager;\\n  keyboardManager: KeyboardManager;\\n  canvasManager: CanvasManager;\\n  actionsManager: ActionsManager;\\n\\n  get host(): HTMLElement {\\n    return this.elRef.nativeElement;\\n  }\\n\\n  constructor(\\n    public readonly diagramEngine: EngineService,\\n    public ngZone: NgZone,\\n    protected renderer: Renderer2,\\n    protected cdRef: ChangeDetectorRef,\\n    protected elRef: ElementRef<HTMLElement>,\\n    @Inject(DIAGRAM_DEFAULT_OPTIONS) protected defaultOptions: EngineSetup\\n  ) {\\n    this.mouseManager = this.diagramEngine.getMouseManager();\\n    this.keyboardManager = this.diagramEngine.getKeyboardManager();\\n    this.canvasManager = this.diagramEngine.getCanvasManager();\\n    this.actionsManager = this.diagramEngine.getActionsManager();\\n  }\\n\\n  ngOnInit() {\\n    this.options = { ...this.defaultOptions, ...this.options };\\n    this.model =\\n      (this.model && this.diagramEngine.setModel(this.model)) ||\\n      this.diagramEngine.createModel({\\n        namespace: this.name || \'default\',\\n        ...this.options,\\n      });\\n\\n    if (!this.canvas) {\\n      return;\\n    }\\n\\n    this.canvasManager.setCanvas(this.canvas.nativeElement);\\n\\n    this.diagramEngine.setup({\\n      ...this.options,\\n    } as EngineSetup);\\n\\n    this.initNodes();\\n    this.initSelectionBox();\\n    this.initSubs();\\n  }\\n\\n  ngOnDestroy() {\\n    if (this.keyboardManager) {\\n      this.keyboardManager.dispose();\\n    }\\n\\n    this.model.destroy();\\n  }\\n\\n  /**\\n   * zoom the canvas to fit all nodes inside the view.\\n   * @param additionalZoomFactor additional margins to the zooming factor\\n   */\\n  zoomToFit(additionalZoomFactor?: number): void {\\n    this.diagramEngine.zoomToFit(additionalZoomFactor);\\n  }\\n\\n  /**\\n   *\\n   * @param nodes zoom the canvas to the selected nodes\\n   * @param margin additional margins to the zooming factor\\n   */\\n  zoomToNodes(nodes: NodeModel[], margin = 100): void {\\n    this.diagramEngine.zoomToNodes(nodes, margin);\\n  }\\n\\n  protected initNodes(): void {\\n    this.canvasManager\\n      .paintNodes(this.nodesLayer)\\n      .pipe(\\n        takeUntil(this.model.onEntityDestroy()),\\n        switchMap(() => {\\n          if (!this.diagramEngine) {\\n            return of(null);\\n          }\\n\\n          return this.canvasManager.paintLinks(this.linksLayer);\\n        })\\n      )\\n      .subscribe();\\n  }\\n\\n  protected initSelectionBox() {\\n    if (!this.diagramEngine) {\\n      return;\\n    }\\n\\n    this.selectionBox$ = this.actionsManager.observeActions().pipe(\\n      map((a) => {\\n        if (\\n          a &&\\n          a.action &&\\n          a.action instanceof SelectingAction &&\\n          a.state === \'firing\'\\n        ) {\\n          return a.action as SelectingAction;\\n        } else {\\n          return null;\\n        }\\n      }),\\n      tap(() => this.cdRef.detectChanges())\\n    );\\n  }\\n\\n  @OutsideZone\\n  protected onMouseUp(event: MouseEvent) {\\n    this.mouseManager ? this.mouseManager.onMouseUp(event) : noop();\\n  }\\n\\n  @OutsideZone\\n  protected onKeyUp(event: KeyboardEvent) {\\n    this.keyboardManager ? this.keyboardManager.onKeyUp(event) : noop();\\n  }\\n\\n  @HostListener(\'window:copy\', [\'$event\'])\\n  protected onCopy(event: ClipboardEvent) {\\n    this.keyboardManager ? this.keyboardManager.onCopy() : noop();\\n  }\\n\\n  @HostListener(\'window:paste\', [\'$event\'])\\n  protected onPaste(event: ClipboardEvent) {\\n    this.keyboardManager ? this.keyboardManager.onPaste() : noop();\\n  }\\n\\n  @OutsideZone\\n  protected onMouseMove(event: MouseEvent) {\\n    this.mouseManager ? this.mouseManager.onMouseMove(event) : noop();\\n  }\\n\\n  @OutsideZone\\n  protected onMouseDown(event: MouseEvent) {\\n    this.mouseManager ? this.mouseManager.onMouseDown(event) : noop();\\n  }\\n\\n  @OutsideZone\\n  protected onMouseWheel(event: WheelEvent) {\\n    this.mouseManager ? this.mouseManager.onMouseWheel(event) : noop();\\n  }\\n\\n  @OutsideZone\\n  protected setLayerStyles(x: number, y: number, zoom: number): void {\\n    const nodesLayer = this.getNodesLayer();\\n    const linksLayer = this.getLinksLayer();\\n\\n    const style = \'transform\';\\n    const value = `translate(${x}px, ${y}px) scale(${zoom / 100.0})`;\\n\\n    this.renderer.setStyle(nodesLayer, style, value);\\n    this.renderer.setStyle(linksLayer, style, value);\\n  }\\n\\n  protected initSubs() {\\n    const diagramModel = this.diagramEngine?.getDiagramModel();\\n    if (!diagramModel) {\\n      return;\\n    }\\n\\n    combineLatest([\\n      diagramModel.selectOffsetX(),\\n      diagramModel.selectOffsetY(),\\n      diagramModel.selectZoomLevel(),\\n    ])\\n      .pipe(\\n        takeUntil(this.model.onEntityDestroy()),\\n        tap(([x, y, zoom]) => this.setLayerStyles(x, y, zoom))\\n      )\\n      .subscribe();\\n  }\\n\\n  protected getNodesLayer(): HTMLDivElement | null {\\n    if (!this.host) {\\n      return null;\\n    }\\n\\n    return this.nodesLayer?.element.nativeElement.parentElement;\\n  }\\n\\n  protected getLinksLayer(): HTMLDivElement | null {\\n    if (!this.host) {\\n      return null;\\n    }\\n\\n    return this.linksLayer?.element.nativeElement.parentElement;\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":[{"data":".rxzu-diagram {\\n  position: relative;\\n  flex-grow: 1;\\n  display: flex;\\n  cursor: move;\\n  overflow: hidden;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  .selector {\\n    position: absolute;\\n    background-color: rgba(0, 192, 255, 0.2);\\n    border: solid 2px rgb(0, 192, 255);\\n  }\\n\\n  .rxzu-nodes-layer {\\n    position: absolute;\\n    height: 100%;\\n    width: 100%;\\n    transform-origin: 0 0;\\n    overflow: visible;\\n    pointer-events: none;\\n    z-index: 150;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n\\n  .rxzu-links-layer {\\n    position: absolute;\\n    height: 100%;\\n    width: 100%;\\n    transform-origin: 0 0;\\n    overflow: visible;\\n    pointer-events: none;\\n    z-index: 100;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n}\\n","styleUrl":"diagram.component.scss"}],"stylesData":"","constructorObj":{"name":"constructor","description":"","args":[{"name":"diagramEngine","type":"EngineService"},{"name":"ngZone","type":"NgZone"},{"name":"renderer","type":"Renderer2"},{"name":"cdRef","type":"ChangeDetectorRef"},{"name":"elRef","type":"ElementRef<HTMLElement>"},{"name":"defaultOptions","type":"EngineSetup"}],"line":65,"jsdoctags":[{"name":"diagramEngine","type":"EngineService","tagName":{"text":"param"}},{"name":"ngZone","type":"NgZone","tagName":{"text":"param"}},{"name":"renderer","type":"Renderer2","tagName":{"text":"param"}},{"name":"cdRef","type":"ChangeDetectorRef","tagName":{"text":"param"}},{"name":"elRef","type":"ElementRef<HTMLElement>","tagName":{"text":"param"}},{"name":"defaultOptions","type":"EngineSetup","tagName":{"text":"param"}}]},"implements":["OnInit","OnDestroy","ZonedClass"],"accessors":{"host":{"name":"host","getSignature":{"name":"host","type":"","returnType":"HTMLElement","line":63}}},"templateData":"<div\\n  class=\\"rxzu-diagram\\"\\n  #canvas\\n  (mousedown)=\\"onMouseDown($event)\\"\\n  (wheel)=\\"onMouseWheel($event)\\"\\n  (keyup)=\\"onKeyUp($event)\\"\\n  tabindex=\\"1\\"\\n>\\n  \x3c!-- Nodes Layer --\x3e\\n  <div class=\\"rxzu-nodes-layer\\">\\n    <ng-template #nodesLayer></ng-template>\\n  </div>\\n\\n  \x3c!-- Links Layer --\x3e\\n  <div class=\\"rxzu-links-layer\\">\\n    <ng-template #linksLayer></ng-template>\\n  </div>\\n\\n  \x3c!-- Selection Box --\x3e\\n  <div\\n    *ngIf=\\"selectionBox$ | async as selectionBox\\"\\n    class=\\"selector\\"\\n    [ngStyle]=\\"{\\n      top: selectionBox?.dimensions.top + \'px\',\\n      left: selectionBox?.dimensions.left + \'px\',\\n      width: selectionBox?.dimensions.width + \'px\',\\n      height: selectionBox?.dimensions.height + \'px\'\\n    }\\"\\n  ></div>\\n</div>\\n"}],"modules":[{"name":"RxZuDefaultsModule","children":[{"type":"providers","elements":[]},{"type":"declarations","elements":[{"name":"DefaultLabelComponent"},{"name":"DefaultLinkComponent"},{"name":"DefaultNodeComponent"},{"name":"DefaultPortComponent"}]},{"type":"imports","elements":[{"name":"RxZuModule"}]},{"type":"exports","elements":[{"name":"DefaultLabelComponent"},{"name":"DefaultLinkComponent"},{"name":"DefaultNodeComponent"},{"name":"DefaultPortComponent"},{"name":"RxZuModule"}]},{"type":"bootstrap","elements":[]},{"type":"classes","elements":[]}]},{"name":"RxZuModule","children":[{"type":"providers","elements":[]},{"type":"declarations","elements":[{"name":"RxZuDiagramComponent"},{"name":"TemplateVarDirective"}]},{"type":"imports","elements":[]},{"type":"exports","elements":[{"name":"RxZuDiagramComponent"}]},{"type":"bootstrap","elements":[]},{"type":"classes","elements":[]}]}],"miscellaneous":{"variables":[{"name":"COMPONENT","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<Omit<ComponentProviderOptions, type>>","defaultValue":"new InjectionToken(\'COMPONENT\')"},{"name":"COMPONENTS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/defaults/defaults.module.ts","type":"[]","defaultValue":"[\\n  DefaultLinkComponent,\\n  DefaultLabelComponent,\\n  DefaultPortComponent,\\n  DefaultNodeComponent,\\n]"},{"name":"DEFAULTS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/defaults/defaults.module.ts","type":"ComponentProviderOptions[]","defaultValue":"[\\n  {\\n    type: \'node\',\\n    component: DefaultNodeComponent,\\n  },\\n  {\\n    type: \'port\',\\n    component: DefaultPortComponent,\\n  },\\n  {\\n    type: \'link\',\\n    component: DefaultLinkComponent,\\n  },\\n  {\\n    type: \'label\',\\n    component: DefaultLabelComponent,\\n  },\\n]"},{"name":"DIAGRAM_DEFAULT_OPTIONS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<EngineSetup>","defaultValue":"new InjectionToken(\\n  \'DIAGRAM_DEFAULT_OPTIONS\',\\n  {\\n    providedIn: \'root\',\\n    factory: function () {\\n      return {\\n        allowCanvasZoom: true,\\n        allowCanvasTranslation: true,\\n        inverseZoom: true,\\n        allowLooseLinks: true,\\n        maxZoomOut: 0,\\n        maxZoomIn: 0,\\n        portMagneticRadius: 30,\\n      } as EngineSetup;\\n    },\\n  }\\n)"},{"name":"MODEL","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<BaseModel>","defaultValue":"new InjectionToken(\'MODEL\')"}],"functions":[{"name":"OutsideZone","file":"packages/angular/src/lib/utils/decorators.ts","ctype":"miscellaneous","subtype":"function","description":"","args":[{"name":"targetClass"},{"name":"functionName"},{"name":"descriptor","type":"any"}],"jsdoctags":[{"name":"targetClass","tagName":{"text":"param"}},{"name":"functionName","tagName":{"text":"param"}},{"name":"descriptor","type":"any","tagName":{"text":"param"}}]}],"typealiases":[],"enumerations":[],"groupedVariables":{"packages/angular/src/lib/injection.tokens.ts":[{"name":"COMPONENT","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<Omit<ComponentProviderOptions, type>>","defaultValue":"new InjectionToken(\'COMPONENT\')"},{"name":"DIAGRAM_DEFAULT_OPTIONS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<EngineSetup>","defaultValue":"new InjectionToken(\\n  \'DIAGRAM_DEFAULT_OPTIONS\',\\n  {\\n    providedIn: \'root\',\\n    factory: function () {\\n      return {\\n        allowCanvasZoom: true,\\n        allowCanvasTranslation: true,\\n        inverseZoom: true,\\n        allowLooseLinks: true,\\n        maxZoomOut: 0,\\n        maxZoomIn: 0,\\n        portMagneticRadius: 30,\\n      } as EngineSetup;\\n    },\\n  }\\n)"},{"name":"MODEL","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/injection.tokens.ts","type":"InjectionToken<BaseModel>","defaultValue":"new InjectionToken(\'MODEL\')"}],"packages/angular/src/lib/defaults/defaults.module.ts":[{"name":"COMPONENTS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/defaults/defaults.module.ts","type":"[]","defaultValue":"[\\n  DefaultLinkComponent,\\n  DefaultLabelComponent,\\n  DefaultPortComponent,\\n  DefaultNodeComponent,\\n]"},{"name":"DEFAULTS","ctype":"miscellaneous","subtype":"variable","file":"packages/angular/src/lib/defaults/defaults.module.ts","type":"ComponentProviderOptions[]","defaultValue":"[\\n  {\\n    type: \'node\',\\n    component: DefaultNodeComponent,\\n  },\\n  {\\n    type: \'port\',\\n    component: DefaultPortComponent,\\n  },\\n  {\\n    type: \'link\',\\n    component: DefaultLinkComponent,\\n  },\\n  {\\n    type: \'label\',\\n    component: DefaultLabelComponent,\\n  },\\n]"}]},"groupedFunctions":{"packages/angular/src/lib/utils/decorators.ts":[{"name":"OutsideZone","file":"packages/angular/src/lib/utils/decorators.ts","ctype":"miscellaneous","subtype":"function","description":"","args":[{"name":"targetClass"},{"name":"functionName"},{"name":"descriptor","type":"any"}],"jsdoctags":[{"name":"targetClass","tagName":{"text":"param"}},{"name":"functionName","tagName":{"text":"param"}},{"name":"descriptor","type":"any","tagName":{"text":"param"}}]}]},"groupedEnumerations":{},"groupedTypeAliases":{}},"routes":[],"coverage":{"count":0,"status":"low","files":[{"filePath":"packages/angular/src/lib/defaults/components/default-label/default-label.component.ts","type":"component","linktype":"component","name":"DefaultLabelComponent","coveragePercent":0,"coverageCount":"0/4","status":"low"},{"filePath":"packages/angular/src/lib/defaults/components/default-link/default-link.component.ts","type":"component","linktype":"component","name":"DefaultLinkComponent","coveragePercent":0,"coverageCount":"0/10","status":"low"},{"filePath":"packages/angular/src/lib/defaults/components/default-node/default-node.component.ts","type":"component","linktype":"component","name":"DefaultNodeComponent","coveragePercent":0,"coverageCount":"0/9","status":"low"},{"filePath":"packages/angular/src/lib/defaults/components/default-port/default-port.component.ts","type":"component","linktype":"component","name":"DefaultPortComponent","coveragePercent":0,"coverageCount":"0/4","status":"low"},{"filePath":"packages/angular/src/lib/defaults/defaults.module.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"COMPONENTS","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/defaults/defaults.module.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"DEFAULTS","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/diagram/diagram.component.ts","type":"component","linktype":"component","name":"RxZuDiagramComponent","coveragePercent":6,"coverageCount":"2/32","status":"low"},{"filePath":"packages/angular/src/lib/engine.service.ts","type":"injectable","linktype":"injectable","name":"EngineService","coveragePercent":0,"coverageCount":"0/3","status":"low"},{"filePath":"packages/angular/src/lib/factory.service.ts","type":"injectable","linktype":"injectable","name":"FactoryService","coveragePercent":0,"coverageCount":"0/6","status":"low"},{"filePath":"packages/angular/src/lib/injection.tokens.ts","type":"interface","linktype":"interface","name":"ComponentProviderOptions","coveragePercent":0,"coverageCount":"0/4","status":"low"},{"filePath":"packages/angular/src/lib/injection.tokens.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"COMPONENT","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/injection.tokens.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"DIAGRAM_DEFAULT_OPTIONS","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/injection.tokens.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"MODEL","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/registry.service.ts","type":"injectable","linktype":"injectable","name":"RegistryService","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"packages/angular/src/lib/utils/decorators.ts","type":"interface","linktype":"interface","name":"ZonedClass","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"packages/angular/src/lib/utils/decorators.ts","type":"function","linksubtype":"function","name":"OutsideZone","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"packages/angular/src/lib/utils/template-var.directive.ts","type":"directive","linktype":"directive","name":"TemplateVarDirective","coveragePercent":0,"coverageCount":"0/6","status":"low"},{"filePath":"packages/angular/src/lib/utils/template-var.directive.ts","type":"class","linktype":"classe","name":"TemplateVarContext","coveragePercent":0,"coverageCount":"0/3","status":"low"}]}}')},641:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/code-brackets.2e1112d7.svg"},642:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/colors.a4bd0486.svg"},643:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/comments.a3859089.svg"},644:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/flow.edad2ac1.svg"},645:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/plugin.d494b228.svg"},646:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/stackalt.dba9fbb3.svg"},649:function(module,exports,__webpack_require__){__webpack_require__(650),__webpack_require__(812),__webpack_require__(813),__webpack_require__(987),__webpack_require__(1192),__webpack_require__(1194),__webpack_require__(1199),__webpack_require__(1211),__webpack_require__(1213),__webpack_require__(1218),__webpack_require__(1220),module.exports=__webpack_require__(1225)},723:function(module,exports){},813:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(62)}},[[649,1,2]]]);
//# sourceMappingURL=main.9466fdfb769cefc53034.bundle.js.map